(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{2038:function(e,t,n){},2039:function(e,t,n){},2041:function(e,t,n){},2042:function(e,t,n){},2044:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(64),o=n.n(c),s=(n(312),n(24)),l=n(26),r=(n(318),n(319),n.p+"static/media/logo.18795106.png"),d=n(2147),u=n(2148),j=n(2149),m=n(1),h={fontSize:36,color:"#313131",margin:"0px 12px",cursor:"pointer"},b=window.innerWidth<992,v=function(){return Object(m.jsxs)("footer",{style:{marginTop:200},className:"Footer container",children:[Object(m.jsxs)("div",{className:"row justify-content-lg-center pl-3 p-lg-0",children:[Object(m.jsxs)("div",{className:"col-lg-4 col-12 text-lg-center",children:[Object(m.jsx)("img",{height:66,src:r,alt:"smart exam logo"}),Object(m.jsx)("h5",{className:"text-grey my-3",children:"Test your student smartly."}),!b&&Object(m.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[Object(m.jsx)(d.a,{style:h}),Object(m.jsx)(u.a,{style:h}),Object(m.jsx)(j.a,{style:h})]})]}),Object(m.jsxs)("div",{className:"col-lg-4 col-12 text-lg-center",children:[Object(m.jsx)("h4",{children:"Menu"}),Object(m.jsxs)("ul",{className:"d-flex d-lg-block flex-row",children:[Object(m.jsx)("li",{className:"mx-2",children:"Home"}),Object(m.jsx)("li",{className:"mx-2",children:"Tours"}),Object(m.jsx)("li",{className:"mx-2",children:"Category"}),Object(m.jsx)("li",{className:"mx-2",children:"About Us"})]})]}),Object(m.jsxs)("div",{className:"col-lg-4 col-12 text-lg-center",children:[Object(m.jsx)("h4",{children:"Support"}),Object(m.jsxs)("ul",{className:"d-flex d-lg-block flex-row",children:[Object(m.jsx)("li",{className:"mx-2",children:"FAQ"}),Object(m.jsx)("li",{className:"mx-2",children:"Terms & Conditions"}),Object(m.jsx)("li",{className:"mx-2",children:"Privacy Policy"})]})]})]}),Object(m.jsxs)("div",{className:"text-center",children:[b&&Object(m.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[Object(m.jsx)(d.a,{style:h}),Object(m.jsx)(u.a,{style:h}),Object(m.jsx)(j.a,{style:h})]}),Object(m.jsxs)("small",{className:"text-grey",children:[(new Date).getFullYear()," (c) \u2014 SmartExam. All Rights Reserved"]})]})]})},x=(n(321),n(36)),f=n(2150),O=n(2151),p=function(e){return{type:"SIGN_IN",payload:e}},g=function(e){return{type:"SET_USER_TYPE",payload:e}},y=function(){var e=Object(s.d)((function(e){return e.auth.userToken})),t=Object(s.d)((function(e){return e.auth.userType})),n=Object(x.useHistory)(),i=Object(s.c)(null),a="instructor"===t;return Object(m.jsx)("div",{className:"Navbar",children:Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(m.jsx)(l.b,{className:"navbar-brand",to:"/",children:Object(m.jsx)("img",{height:66,src:r,alt:"smart exam logo"})}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(m.jsx)("ul",{className:"navbar-nav mx-auto mainNav",children:e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.c,{className:"nav-link p-0",activeclassname:"active",to:"/",exact:!0,children:Object(m.jsx)("li",{className:"nav-item px-5 mx-2",children:Object(m.jsx)("span",{children:"Home"})})}),Object(m.jsx)(l.c,{className:"nav-link p-0",activeclassname:"active",to:"/exams",exact:!0,children:Object(m.jsx)("li",{className:"nav-item px-5 mx-2",children:Object(m.jsx)("span",{children:"Exams"})})}),Object(m.jsx)(l.c,{className:"nav-link p-0",activeclassname:"active",to:a?"/questions":"/my-results",children:Object(m.jsx)("li",{className:"nav-item px-5 mx-2",children:Object(m.jsx)("span",{children:a?"Questions":"My Results"})})})]}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l.c,{className:"nav-link p-0",activeclassname:"active",to:"/",exact:!0,children:Object(m.jsx)("li",{className:"nav-item px-5 mx-2",children:Object(m.jsx)("span",{children:"Home"})})})})}),Object(m.jsx)("ul",{className:"navbar-nav d-flex justify-content-lg-center justify-content-between flex-row",children:e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{onClick:function(){i({type:"SIGN_OUT",payload:null}),localStorage.clear(),n.push("/login")},className:"nav-item mx-2",children:Object(m.jsx)(f.a,{className:"primaryColoredIcon"})}),Object(m.jsx)("li",{className:"nav-item mx-2",children:Object(m.jsx)(l.b,{to:"/profile/".concat(t),children:Object(m.jsx)(O.a,{className:"primaryColoredIcon"})})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"nav-item mx-2 d-flex align-items-center",children:Object(m.jsx)(l.b,{className:"loginText",to:"/login",children:"Login"})}),Object(m.jsx)("li",{className:"nav-item mx-2",children:Object(m.jsx)(l.b,{className:"btn btn-primary",to:"/register",children:"Register"})})]})})]})]})})},N=n(12),w=n(2116),k=n(2114),S="ADD_EMAIL",q="SHOW_ERROR",C="SHOW_SUCCESS",A="SHOW_ALERT",T="HIDE_ALERT",E="ADD_QUESTION",M="ADD_GROUP",I="ADD_GROUP_QUESTION",F="REMOVE_QUESTION",P="REMOVE_ALL",D=function(e){return{type:q,payload:e}},R=function(e){return{type:C,payload:e}},B=function(e){return{type:A,payload:e}},W=function(){return{type:T}},Q=a.a.forwardRef((function(e,t){return Object(m.jsx)(k.a,Object(N.a)({elevation:6,ref:t,variant:"filled"},e))})),H=function(){var e=Object(s.d)((function(e){return e.app.successMsg})),t=Object(s.c)();return Object(i.useEffect)((function(){e&&setTimeout((function(){t(R(null))}),3e3)}),[e,t]),Object(m.jsx)(w.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e,children:Object(m.jsx)(Q,{severity:"success",children:e})},"success1")},z=a.a.forwardRef((function(e,t){return Object(m.jsx)(k.a,Object(N.a)({elevation:6,ref:t,variant:"filled"},e))})),U=function(){var e=Object(s.d)((function(e){return e.app.errorMsg})),t=Object(s.c)();return Object(i.useEffect)((function(){e&&setTimeout((function(){t(D(null))}),3e3)}),[e,t]),Object(m.jsx)(w.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e,autoHideDuration:3e3,children:Object(m.jsx)(z,{severity:"error",children:e})},"error1")},V=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(H,{}),Object(m.jsx)(U,{})]})},_=n(46),L=n(8),G=n(70),Y=n.n(G),J=n(99),Z=n(242),$="https://api.smart-exam.ml/api",K=n.n(Z).a.create({baseURL:$,headers:{}});K.interceptors.request.use(function(){var e=Object(J.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),t.headers=Object(N.a)(Object(N.a)({},t.headers),{},{Authorization:n?"Bearer ".concat(n):void 0}),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),K.interceptors.response.use((function(e){return e.data}),(function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}));var X=K,ee=n(162),te=n(244),ne={errorMsg:null,successMsg:null,alertObject:null},ie={userToken:null,userType:null},ae={email:"LOL"},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type===S?Object(N.a)(Object(N.a)({},e),{},{email:t.email}):e},oe=n(18),se={examQuestions:[],examGroups:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(N.a)(Object(N.a)({},e),{},{examQuestions:[].concat(Object(oe.a)(e.examQuestions),Object(oe.a)(t.payload))});case M:var n,i=(null===(n=t.payload)||void 0===n?void 0:n.length)?Object(oe.a)(t.payload):[t.payload],a=[].concat(Object(oe.a)(e.examGroups),Object(oe.a)(i));return Object(N.a)(Object(N.a)({},e),{},{examGroups:a});case I:var c=Object(oe.a)(e.examGroups);return c.forEach((function(e){e.id===t.groupId&&(e.questions=[].concat(Object(oe.a)(e.questions),Object(oe.a)(t.payload)))})),Object(N.a)(Object(N.a)({},e),{},{examGroups:c});case F:var o=null===e||void 0===e?void 0:e.examQuestions;o=o.filter((function(e){return e.id!==t.payload}));var s=null===e||void 0===e?void 0:e.examGroups;return s=s.filter((function(e){return e.id!==t.payload})),Object(N.a)(Object(N.a)({},e),{},{examQuestions:Object(oe.a)(o),examGroups:Object(oe.a)(s)});case P:return Object(N.a)(Object(N.a)({},e),{},{examQuestions:[],examGroups:[]});default:return e}},re=n(243),de=n.n(re),ue=Object(ee.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(N.a)(Object(N.a)({},e),{},{userToken:t.payload});case"SIGN_OUT":return Object(N.a)(Object(N.a)({},e),{},{userToken:null,userType:null});case"SET_USER_TYPE":return Object(N.a)(Object(N.a)({},e),{},{userType:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(N.a)(Object(N.a)({},e),{},{errorMsg:t.payload});case C:return Object(N.a)(Object(N.a)({},e),{},{successMsg:t.payload});case A:return Object(N.a)(Object(N.a)({},e),{},{alertObject:t.payload});case T:return Object(N.a)(Object(N.a)({},e),{},{alertObject:null});default:return e}},rst:ce,exam:le,question:de.a}),je=Object(ee.a)(te.a),me=Object(ee.c)(ue,je);function he(e){var t,n=function(e){me.dispatch(D(e))};(null===e||void 0===e?void 0:e.message)?n(null===e||void 0===e?void 0:e.message):n("string"===typeof e||e instanceof String?e:"UNKNOWN_ERROR"),(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.includes("Unauthenticated"))&&(me.dispatch({type:"SIGN_OUT",payload:null}),localStorage.clear())}function be(e){return me.dispatch(R(e)),null}var ve=Object(s.b)((function(e){return{email_address:e.rst.email}}),(function(e){return{saveEmail:function(t){return e({type:S,email:t})}}}))((function(e){var t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1];return Object(m.jsxs)("div",{className:"card m-5 ",children:[Object(m.jsx)("div",{className:"card-header",children:"Forgot Password"}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsxs)("form",{className:" m-3",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("label",{children:"We'll send you a link via email to reset password"})}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("label",{children:"Please type your email address"})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:function(e){return c(e.target.value)},placeholder:"Email address"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"mx-auto",style:{width:200},children:Object(m.jsx)("button",{className:"btn btn-primary mx-auto",onClick:function(t){t.preventDefault();var n={email:a};e.saveEmail(a),localStorage.setItem("email",a),X.post("/auth/forgotPassword",n).then((function(e){be("Sent Email Successfully!")})).catch((function(e){return he(e)}))},style:{width:200},children:"Send Link"})})]})})]})})),xe=n(2112),fe=n(21),Oe=n(22),pe={login:{url:"".concat($,"/auth/login"),method:"POST"},verifyEmail:{url:"".concat($,"/auth/verifyEmail"),method:"POST"},changePassword:{url:"".concat($,"/auth/changePassword"),method:"PUT"},logout:{url:"".concat($,"/auth/logout"),method:"POST"},ResetPassword:{url:"".concat($,"/auth/forgotPassword"),method:"PUT"}},ge=function(){function e(){Object(fe.a)(this,e),this.jwt=""}return Object(Oe.a)(e,null,[{key:"fetch",value:function(e){function t(t,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var t=Object(J.a)(Y.a.mark((function t(n,i,a){var c,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.jwt=localStorage.getItem("token"),t.next=3,fetch(n,Object(N.a)(Object(N.a)({mode:"cors"},i),{},{headers:e.getHeaders(i.headers,a)}));case 3:return c=t.sent,o=c.ok?204===c.status?Promise.resolve({}):c.json():e.handleErrorsBasedOnStatus(c),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}())},{key:"getHeaders",value:function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};return t&&(n.Authorization="Bearer ".concat(this.jwt)),n=Object(N.a)(Object(N.a)({},n),e)}},{key:"handleErrorsBasedOnStatus",value:function(e){return e.status,e.json().then((function(e){return Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))}}]),e}(),ye=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"login",value:function(e){return ge.fetch(pe.login.url,{body:JSON.stringify(e),method:pe.login.method})}},{key:"emailVerifySms",value:function(e){return ge.fetch(pe.verifyEmail.url,{body:JSON.stringify(e),method:pe.verifyEmail.method})}},{key:"changePassword",value:function(e){return ge.fetch(pe.changePassword.url,{body:JSON.stringify(e),method:pe.changePassword.method},!0)}},{key:"logout",value:function(){return ge.fetch(pe.logout.url,{method:pe.logout.method},!0)}},{key:"resetForgottenPassword",value:function(e){return ge.fetch(pe.ResetPassword.url,{body:JSON.stringify(e),method:pe.ResetPassword.method})}}]),e}(),Ne=(n(345),function(e){var t=e.children,n=e.title;return Object(m.jsxs)("div",{className:"greenCard",children:[Object(m.jsx)("h2",{className:"text-light text-center mx-auto py-3",children:n}),t]})}),we=Object(_.withRouter)((function(e){var t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)(null),l=Object(L.a)(o,2),r=l[0],d=l[1],u=Object(s.c)(null);return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Login",children:Object(m.jsxs)("form",{className:"m-3 text-start",children:[Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:function(e){return c(e.target.value)},label:"Email Address",variant:"outlined"})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{fullWidth:!0,label:"Password",variant:"outlined",id:"outlined-adornment-password",type:"password",onChange:function(e){return d(e.target.value)}})}),Object(m.jsxs)("div",{className:"mx-auto mt-4 text-center",children:[Object(m.jsx)("button",{className:"btn btn-primary mx-auto",onClick:function(t){t.preventDefault(),ye.login({email:a,password:r}).then((function(t){var n,i,a;localStorage.setItem("token",null===t||void 0===t?void 0:t.token),localStorage.setItem("userType",null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.type),u(p(null===t||void 0===t?void 0:t.token)),u(g(null===t||void 0===t||null===(i=t.user)||void 0===i?void 0:i.type)),e.history.push("/profile/".concat(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.type))})).catch((function(e){return he(e)}))},children:"Login"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(t){t.preventDefault(),e.history.push({pathname:"/forgot-password",state:{email:a}})},children:"Forgot password?"}),Object(m.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){e.history.push("/register")},children:"Signup"})]})]})]})})})})})),ke=n(37),Se=n(38),qe=function(e){Object(ke.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(fe.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).RegisterAsStudentHandler=function(){e.props.history.push("/register-student")},e.RegisterAsInstructorHandler=function(){e.props.history.push("/register-instructor")},e}return Object(Oe.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(m.jsxs)("div",{className:"card border-success mb-3",style:{MaxWidth:18},children:[Object(m.jsx)("div",{className:"card-header",children:"Sign up"}),Object(m.jsxs)("div",{className:"card-body text-success",children:[Object(m.jsx)("h5",{className:"card-title text-center",children:"Register As...?"}),Object(m.jsxs)("div",{className:"form-inline",children:[Object(m.jsx)("button",{type:"button",onClick:this.RegisterAsStudentHandler,className:"btn btn-primary m-3",children:"Student"}),Object(m.jsx)("button",{type:"button",onClick:this.RegisterAsInstructorHandler,className:"btn btn-danger m-3",children:"Instructor"})]})]})]})})}}]),n}(i.Component),Ce=Object(x.withRouter)(qe),Ae=n(71),Te=n(105),Ee=n(2127),Me=n(150),Ie=n.n(Me),Fe=n(9),Pe=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"uploadImage",value:function(e){var t=new FormData;return t.append("image",e),X.post("/image-upload",t,{headers:{"content-type":"multipart/form-data"}})}}]),e}(),De=Object(Fe.a)("input")({display:"none"}),Re=function(e){Object(ke.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(fe.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={firstName:null,lastName:null,gender:"male",email:null,phone:null,department:null,degree:null,school:null,password:null,confirmPassword:null},e.firstNameFormHandler=function(t){e.setState({firstName:t.target.value})},e.lastNameFormHandler=function(t){e.setState({lastName:t.target.value})},e.genderHandler=function(t){e.setState({gender:t.target.value})},e.emailFormHandler=function(t){e.setState({email:t.target.value})},e.phoneFormHandler=function(t){e.setState({phone:t.target.value})},e.departmentFormHandler=function(t){e.setState({department:t.target.value})},e.degreeFormHandler=function(t){e.setState({degree:t.target.value})},e.schoolFormHandler=function(t){e.setState({school:t.target.value})},e.passwordFormHandler=function(t){e.setState({password:t.target.value})},e.confirmPasswordFormHandler=function(t){e.setState({confirmPassword:t.target.value})},e.isValidEmail=function(e){return Boolean(String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))},e.isValidName=function(e){return!(""===e|null==e)},e.isValidPhone=function(e){return!(""===e|null==e)&&!!e.match(/^\d{11}$/)},e.isPasswordMatch=function(e,t){return!(""===e|null===e)&&e===t},e.validateData=function(){return e.isValidName(e.state.firstName)?e.isValidName(e.state.lastName)?e.isValidPhone(e.state.phone)?e.isValidEmail(e.state.email)?e.isValidName(e.state.department)?e.isValidName(e.state.school)?e.isValidName(e.state.degree)?e.isPasswordMatch(e.state.password,e.state.confirmPassword)?e.state.selectedFile?"success":"Image is required":"Password Mismatch":"Invalid Degree":"Invalid School":"Invalid Department":"Invalid Email":"Invalid Phone Number":"Invalid Last Name":"Invalid First Name"},e.registerHandler=function(t){var n,i=e.validateData();"success"===i?Pe.uploadImage(e.state.selectedFile).then((function(t){return n={firstName:e.state.firstName,lastName:e.state.lastName,description:"This is new instructor's description",email:e.state.email,password:e.state.password,gender:e.state.gender,image:t.image,phone:e.state.phone,type:"instructor",degree:e.state.degree,departments:[{department_id:1}]},X.post("/instructors/register",n)})).then((function(t){e.props.history.push({pathname:"/verifyEmail",state:{email:e.state.email,userInfo:n}})})).catch((function(e){return he(e)})):he(i)},e.handleUploadClick=function(t){var n=t.target.files[0],i=new FileReader;i.readAsDataURL(n);i.onloadend=function(e){this.setState({photoName:n.name,selectedFile:n,personalImageUrl:e.target.result})}.bind(Object(Ae.a)(e))},e}return Object(Oe.a)(n,[{key:"render",value:function(){var e,t,n;return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Signup",children:Object(m.jsxs)("form",{className:"m-3",children:[Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.firstNameFormHandler,label:"First Name",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.lastNameFormHandler,label:"Last Name",variant:"outlined"})})]}),Object(m.jsx)("div",{className:"row m-1 my-4",children:Object(m.jsxs)("div",{className:"form-group col",children:[Object(m.jsx)("label",{children:"Gender"}),Object(m.jsxs)("div",{className:"form-group m-2",children:[Object(m.jsxs)("div",{className:"form-check form-check-inline ",children:[Object(m.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",value:"male",checked:"male"===this.state.gender,onChange:this.genderHandler}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:" Male "})]}),Object(m.jsxs)("div",{className:"form-check form-check-inline",children:[Object(m.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",value:"female",checked:"female"===this.state.gender,onChange:this.genderHandler}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault2",children:" Female"})]})]})]})}),Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group  col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.phoneFormHandler,label:"Phone Number",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.emailFormHandler,label:"Email",variant:"outlined"})})]}),Object(m.jsx)("div",{className:"row m-1 my-4",children:Object(m.jsx)("div",{className:"form-group  col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.departmentFormHandler,label:"Department",variant:"outlined"})})}),Object(m.jsxs)("div",{className:"row m-1",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.schoolFormHandler,label:"School / University",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.degreeFormHandler,label:"Degree",variant:"outlined"})})]}),Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{type:"password",fullWidth:!0,id:"outlined-basic",onChange:this.passwordFormHandler,label:"Password",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{type:"password",fullWidth:!0,id:"outlined-basic",onChange:this.confirmPasswordFormHandler,label:"Confirm Password",variant:"outlined"})})]}),Object(m.jsxs)("div",{className:"row justify-content-center",children:[Object(m.jsxs)("div",{className:"col-12 justify-content-center align-items-center d-flex flex-row",children:[Object(m.jsx)(Te.a,{className:"fw-bolder",color:"primary",children:(null===(e=this.state)||void 0===e?void 0:e.photoName)||"Upload your personal photo"}),Object(m.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(m.jsx)(De,{onChange:this.handleUploadClick,accept:"image/*",id:"icon-button-file",type:"file"}),Object(m.jsx)(Ee.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(m.jsx)(Ie.a,{})})]})]}),(null===(t=this.state)||void 0===t?void 0:t.personalImageUrl)?Object(m.jsx)("div",{className:"col-8 justify-content-center align-items-center",children:Object(m.jsx)("img",{style:{width:200},src:"".concat(null===(n=this.state)||void 0===n?void 0:n.personalImageUrl),alt:"Personal image",loading:"lazy"})}):null]}),Object(m.jsx)("div",{className:"mx-auto mt-4",children:Object(m.jsx)("button",{type:"button",className:"btn btn-primary mx-auto",onClick:this.registerHandler,style:{width:200},children:"Submit"})})]})})})})}}]),n}(i.Component),Be=Re,We=Object(Fe.a)("input")({display:"none"}),Qe=function(e){Object(ke.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(fe.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={firstName:null,lastName:null,gender:"male",email:null,phone:null,department:null,studentcode:null,school:null,password:null,confirmPassword:null},e.firstNameFormHandler=function(t){e.setState({firstName:t.target.value})},e.lastNameFormHandler=function(t){e.setState({lastName:t.target.value})},e.genderHandler=function(t){e.setState({gender:t.target.value})},e.emailFormHandler=function(t){e.setState({email:t.target.value})},e.phoneFormHandler=function(t){e.setState({phone:t.target.value})},e.departmentFormHandler=function(t){e.setState({department:t.target.value})},e.studentCodeFormHandler=function(t){e.setState({studentcode:t.target.value})},e.schoolFormHandler=function(t){e.setState({school:t.target.value})},e.passwordFormHandler=function(t){e.setState({password:t.target.value})},e.confirmPasswordFormHandler=function(t){e.setState({confirmPassword:t.target.value})},e.isValidEmail=function(e){return Boolean(String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))},e.isValidName=function(e){return!(""===e|null==e)},e.isValidPhone=function(e){return!(""===e|null==e)&&!!e.match(/^\d{11}$/)},e.isPasswordMatch=function(e,t){return!(""===e|null===e)&&e===t},e.validateData=function(){return e.isValidName(e.state.firstName)?e.isValidName(e.state.lastName)?e.isValidPhone(e.state.phone)?e.isValidEmail(e.state.email)?e.isValidName(e.state.department)?e.isValidName(e.state.school)?e.isValidName(e.state.studentcode)?e.isPasswordMatch(e.state.password,e.state.confirmPassword)?e.state.selectedFile?"success":"Image is required":"Password Mismatch":"Invalid Student Code":"Invalid School":"Invalid Department":"Invalid Email":"Invalid Phone Number":"Invalid Last Name":"Invalid First Name"},e.registerHandler=function(t){var n=e.validateData();"success"===n?Pe.uploadImage(e.state.selectedFile).then((function(t){var n={firstName:e.state.firstName,lastName:e.state.lastName,description:"This is new instructor's description",email:e.state.email,password:e.state.password,gender:e.state.gender,image:t.image,phone:e.state.phone,studentCode:e.state.studentcode,type:"student",departments:[{department_id:1}]};return X.post("/students/register",n)})).then((function(t){e.props.history.push({pathname:"/verifyEmail",state:{email:e.state.email}})})).catch((function(e){return he(e)})):he(n)},e.handleUploadClick=function(t){var n=t.target.files[0],i=new FileReader;i.readAsDataURL(n);i.onloadend=function(e){this.setState({photoName:n.name,selectedFile:n,personalImageUrl:e.target.result})}.bind(Object(Ae.a)(e))},e}return Object(Oe.a)(n,[{key:"render",value:function(){var e,t,n;return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Signup",children:Object(m.jsxs)("form",{className:"m-3",children:[Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.firstNameFormHandler,label:"First Name",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.lastNameFormHandler,label:"Last Name",variant:"outlined"})})]}),Object(m.jsx)("div",{className:"row m-1 my-4",children:Object(m.jsxs)("div",{className:"form-group col",children:[Object(m.jsx)("label",{children:"Gender"}),Object(m.jsxs)("div",{className:"form-group m-2",children:[Object(m.jsxs)("div",{className:"form-check form-check-inline ",children:[Object(m.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",value:"male",checked:"male"===this.state.gender,onChange:this.genderHandler}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:" Male "})]}),Object(m.jsxs)("div",{className:"form-check form-check-inline",children:[Object(m.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",value:"female",checked:"female"===this.state.gender,onChange:this.genderHandler}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault2",children:" Female"})]})]})]})}),Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group  col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.phoneFormHandler,label:"Phone Number",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.emailFormHandler,label:"Email",variant:"outlined"})})]}),Object(m.jsx)("div",{className:"row m-1 my-4",children:Object(m.jsx)("div",{className:"form-group  col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.departmentFormHandler,label:"Department",variant:"outlined"})})}),Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.schoolFormHandler,label:"School / University",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{fullWidth:!0,id:"outlined-basic",onChange:this.studentCodeFormHandler,label:"Student Code",variant:"outlined"})})]}),Object(m.jsxs)("div",{className:"row m-1 my-4",children:[Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{type:"password",fullWidth:!0,id:"outlined-basic",onChange:this.passwordFormHandler,label:"Password",variant:"outlined"})}),Object(m.jsx)("div",{className:"form-group col",children:Object(m.jsx)(xe.a,{type:"password",fullWidth:!0,id:"outlined-basic",onChange:this.confirmPasswordFormHandler,label:"Confirm Password",variant:"outlined"})})]}),Object(m.jsxs)("div",{className:"row justify-content-center",children:[Object(m.jsxs)("div",{className:"col-12 justify-content-center align-items-center d-flex flex-row",children:[Object(m.jsx)(Te.a,{className:"fw-bolder",color:"primary",children:(null===(e=this.state)||void 0===e?void 0:e.photoName)||"Upload your personal photo"}),Object(m.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(m.jsx)(We,{onChange:this.handleUploadClick,accept:"image/*",id:"icon-button-file",type:"file"}),Object(m.jsx)(Ee.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(m.jsx)(Ie.a,{})})]})]}),(null===(t=this.state)||void 0===t?void 0:t.personalImageUrl)?Object(m.jsx)("div",{className:"col-8 justify-content-center align-items-center",children:Object(m.jsx)("img",{style:{width:200},src:"".concat(null===(n=this.state)||void 0===n?void 0:n.personalImageUrl),alt:"Personal image",loading:"lazy"})}):null]}),Object(m.jsx)("div",{className:"mx-auto mt-4",children:Object(m.jsx)("button",{type:"button",className:"btn btn-primary mx-auto",onClick:this.registerHandler,children:"Submit"})})]})})})})}}]),n}(i.Component),He=Qe,ze=Object(s.b)((function(e){return{email_address:e.rst.email}}),(function(e){return 0}))((function(e){var t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)(null),s=Object(L.a)(o,2),l=s[0],r=s[1];return Object(m.jsxs)("div",{className:"card m-5 ",children:[Object(m.jsx)("div",{className:"card-header",children:"Reset Password"}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsxs)("form",{className:" m-3",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"New Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return c(e.target.value)},placeholder:"New Password"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Confirm New Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return r(e.target.value)},placeholder:"Confirm New Password"})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"mx-auto",style:{width:200},children:Object(m.jsx)("button",{className:"btn btn-primary mx-auto",onClick:function(t){if(t.preventDefault(),a===l){var n={password:a,email:localStorage.getItem("email"),token:e.match.params.token};X.put("/auth/forgotPassword",n).then((function(t){localStorage.removeItem("email"),be("Password Reset Successfully"),e.history.push("/login")})).catch((function(e){return he(e)}))}else he("Password Mismatch")},style:{width:200},children:"Reset Password"})})]})})]})})),Ue=n(245);n(346);function Ve(){return window.innerWidth}var _e=[{path:"/login",component:we,exact:!0},{path:"/forgot-password",component:ve,exact:!0},{path:"/reset-password/:token",component:ze,exact:!0},{path:"/register",component:Ce,exact:!0},{path:"/verifyEmail",component:function(e){var t=function(t){var n={email:e.location.state.email,code:t};X.post("/verifyEmail",n).then((function(t){be("Verified Successfully!"),e.history.push({pathname:"/login"})})).catch((function(e){return he(e)}))},n=function(){var e=Object(i.useState)(Ve()),t=Object(L.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a(Ve())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),a=n<768;return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Verify Email",children:Object(m.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center py-2",children:[Object(m.jsx)("small",{className:"text-green",children:"We have sent for you a verify code."}),Object(m.jsx)("small",{className:"text-green",children:"Please enter the code here"}),Object(m.jsx)(Ue.a,{onComplete:function(e){t(e)},className:"my-4 text-primary",type:"text",autoFocus:!0,fieldHeight:85,fieldWidth:a?n/7:66,fields:6})]})})})})},exact:!0},{path:"/register-student",component:He,exact:!0},{path:"/register-instructor",component:Be,exact:!0}],Le=n(53),Ge=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"createNewExam",value:function(e){return X.post("/exams/step1",e)}},{key:"editExamMainInfo",value:function(e,t){return X.put("/exams/".concat(t,"}/step1"),e)}},{key:"setExamOptions",value:function(e,t){return X.post("/exams/step2",Object(N.a)({examId:e},t))}},{key:"editExamOptions",value:function(e,t){return X.put("/exams/".concat(e,"/step2"),Object(N.a)({},t))}},{key:"addQuestionsToExam",value:function(e,t){return X.post("/exams/step3",{examId:e,questions:t})}},{key:"editQuestionsOfExam",value:function(e,t){return X.put("/exams/".concat(e,"/step3"),{questions:t})}},{key:"setQuestionsMarksAndDuration",value:function(e,t){return X.post("/exams/step4",{examId:e,questions:t})}},{key:"getMyExams",value:function(){return X.get("/instructors/my-exams")}},{key:"getAllPublishedExams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isMarked,n=void 0!==t&&t;return X.get("/exams",{params:{isMarked:n}})}},{key:"getExamQuestions",value:function(e){return X.get("/exams/".concat(e,"/questions"))}},{key:"getExamConfig",value:function(e){return X.get("/exams/".concat(e,"/configs"))}},{key:"getExamInfo",value:function(e){return X.get("/exams/".concat(e))}},{key:"addAnswer",value:function(e){return X.post("/answers",e)}},{key:"deleteExam",value:function(e){return X.delete("/exams/".concat(e))}},{key:"makeExamPublished",value:function(e){return X.post("exams/".concat(e,"/publish"),{isPublished:!0})}},{key:"makeExamUnPublished",value:function(e){return X.post("exams/".concat(e,"/publish"),{isPublished:!1})}},{key:"getStudentExamAnswers",value:function(e){return X.get("exams/".concat(e,"/my-answers"))}},{key:"submitExam",value:function(e){return X.post("exams/".concat(e,"/submit"))}},{key:"applyFaceDetection",value:function(e){return X.post("/face-detection",e)}},{key:"applyFaceVerification",value:function(e){return X.post("/face-verification",e)}},{key:"startExam",value:function(e,t){return X.post("exams/".concat(e,"/start"),t)}}]),e}(),Ye=n(2111),Je=n(34),Ze=n.n(Je),$e=n(31),Ke=/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/,Xe=function(){var e,t,n=$e.c().shape({name:$e.d().required("This is a required field"),numberOfTrials:$e.b().min(1).required("This is a required field"),description:$e.d().required("This is a required field"),totalMark:$e.b().min(1).required("This is a required field"),duration:$e.d().matches(Ke,"Wrong Duration Formate (hh:mm:ss)").test("duration","mins must not be more than 60",(function(e){var t;return Number(null===e||void 0===e||null===(t=e.split(":"))||void 0===t?void 0:t[1])<=60})).test("duration","seconds must not be more than 60",(function(e){var t;return Number(null===e||void 0===e||null===(t=e.split(":"))||void 0===t?void 0:t[2])<=60})).required("This is a required field"),examSubject:$e.d().required("This is a required field"),startAt:$e.a().min(new Date,"Start Date must be a future date").required("This is a required field"),endAt:$e.a().when("startAt",(function(e,t){return t.test({test:function(t){return Ze()(e).isBefore(Ze()(t))},message:"End Date must be after start date"})})).required("This is a required field")}),i=Object(x.useHistory)(),a=Object(x.useLocation)(),c=Boolean(null===(e=a.state)||void 0===e?void 0:e.exam),o=null===(t=a.state)||void 0===t?void 0:t.exam;return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:c?"Edit Exam":"Create Exam",children:Object(m.jsx)(Le.a,{initialValues:{name:(null===o||void 0===o?void 0:o.name)||"",numberOfTrials:(null===o||void 0===o?void 0:o.numberOfTrials)||"",description:(null===o||void 0===o?void 0:o.description)||"",totalMark:(null===o||void 0===o?void 0:o.totalMark)||"",duration:(null===o||void 0===o?void 0:o.duration)||"",examSubject:(null===o||void 0===o?void 0:o.examSubject)||"",startAt:(null===o||void 0===o?void 0:o.startAt)||Ze()((new Date).setMinutes(0)).format("yyyy-MM-DD HH:mm"),endAt:(null===o||void 0===o?void 0:o.endAt)||Ze()((new Date).setMinutes(0)).add(7,"days").format("yyyy-MM-DD HH:mm")},validationSchema:n,onSubmit:function(e,t){c?Ge.editExamMainInfo(e,o.id).then((function(e){be("Edited exam information successfully!"),i.push("/exams/".concat(o.id,"/set-options"),{exam:o})})).catch((function(e){return he(e)})):Ge.createNewExam(e).then((function(e){be("Exam information has been saved!"),i.push("/exams/".concat(e.examId,"/set-options"))})).catch((function(e){return he(e)}))},children:function(e){return Object(m.jsxs)("form",{className:"m-5",onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"name",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.name,type:"text",label:"Exam Name",variant:"outlined",helperText:e.touched.name&&e.errors.name,error:e.touched.name&&Boolean(e.errors.name)})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"numberOfTrials",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.numberOfTrials,type:"number",label:"Number Of Trials",variant:"outlined",helperText:e.touched.numberOfTrials&&e.errors.numberOfTrials,error:e.touched.numberOfTrials&&Boolean(e.errors.numberOfTrials)})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"description",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.description,type:"text",label:"Description",variant:"outlined",helperText:e.touched.description&&e.errors.description,error:e.touched.description&&Boolean(e.errors.description)})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"examSubject",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.examSubject,type:"text",label:"Exam Subject",variant:"outlined",helperText:e.touched.examSubject&&e.errors.examSubject,error:e.touched.examSubject&&Boolean(e.errors.examSubject)})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(Ye.a,{label:"Start Date",minutesStep:5,inputFormat:"yyyy-MM-DD HH:mm",value:e.values.startAt,onClose:function(){e.setFieldTouched("startAt",!0)},onChange:function(t){var n=Ze()(t).format("yyyy-MM-DD HH:mm");e.setFieldValue("startAt",n)},renderInput:function(t){return Object(m.jsx)(xe.a,Object(N.a)(Object(N.a)({},t),{},{fullWidth:!0,helperText:e.touched.startAt&&e.errors.startAt,error:e.touched.startAt&&Boolean(e.errors.startAt)}))}})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(Ye.a,{label:"End Date",minutesStep:5,inputFormat:"yyyy-MM-DD HH:mm",value:e.values.endAt,onClose:function(){e.setFieldTouched("endAt",!0)},onChange:function(t){var n=Ze()(t).format("yyyy-MM-DD HH:mm");e.setFieldValue("endAt",n)},renderInput:function(t){return Object(m.jsx)(xe.a,Object(N.a)(Object(N.a)({},t),{},{fullWidth:!0,helperText:e.touched.endAt&&e.errors.endAt,error:e.touched.endAt&&Boolean(e.errors.endAt)}))}})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"totalMark",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.totalMark,type:"number",label:"Total Mark",variant:"outlined",helperText:e.touched.totalMark&&e.errors.totalMark,error:e.touched.totalMark&&Boolean(e.errors.totalMark)})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{name:"duration",placeholder:"Ex: 01:30:00",fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.duration,type:"text",label:"Duration",variant:"outlined",helperText:e.touched.duration&&e.errors.duration,error:e.touched.duration&&Boolean(e.errors.duration)})}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto mt-4",type:"submit",children:"Next"})]})}})})})})},et=n(2153),tt=n(2133);n(2051);var nt,it,at,ct,ot,st,lt,rt,dt,ut,jt,mt=n(274),ht=n(2123),bt=n(2103),vt=function(e){var t=e.methods,n=void 0===t?[]:t,i=e.anchorEl,a=e.setAnchorEl,c=function(){a(null)},o=Boolean(i);return Object(m.jsx)(mt.a,{anchorEl:i,id:"account-menu",open:o,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsx)(ht.a,{onClick:e.function,children:e.displayName}),t!==n.length-1&&Object(m.jsx)(bt.a,{})]},t)}))})},xt=n(39),ft=n(48),Ot="#2F4F4F",pt="#3c6464",gt="#fff",yt="#DC3545",Nt="#28A745",wt=n(112),kt=n.n(wt),St=ft.a.div(nt||(nt=Object(xt.a)(["\n    cursor: pointer;\n"]))),qt=ft.a.div(it||(it=Object(xt.a)(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    padding: 16px 36px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  "])),Ot),Ct=ft.a.span(at||(at=Object(xt.a)(["\n    color: ",";\n    text-decoration: underline;\n    font-weight: 700;\n    font-size: 21px;\n  "])),Ot),At=function(e){var t=e.questionTitle,n=e.id,i=e.deleteFunction,a=void 0===i?function(){}:i,c=e.hasNoDelete,o=e.questionType,s=e.children,l=Object(x.useHistory)();return Object(m.jsxs)(qt,{className:"mb-3",style:{flexDirection:"column",alignItems:"stretch",position:"relative"},children:[o?Object(m.jsx)(Te.a,{variant:"h5",className:"fw-bolder",color:"primary",style:{backgroundColor:"#fff",position:"absolute",top:-25,left:"50%",transform:"translateX(-50%)",padding:"5px 10px"},textTransform:"capitalize",children:o}):null,c?Object(m.jsx)("div",{className:"my-4",children:Object(m.jsx)(Ct,{className:"text-decoration-none",children:t})}):Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(m.jsx)(St,{onClick:function(){l.push("/questions/"+n)},children:Object(m.jsx)(Ct,{children:t})}),Object(m.jsx)(St,{onClick:a,children:Object(m.jsx)(kt.a,{color:"error",fontSize:"large"})})]}),s]})},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?{type:I,payload:e,groupId:t}:{type:E,payload:e}},Et=function(e){return{type:M,payload:e}},Mt={ESSAY:"essay",MCQ:"mcq",FORMULA:"formula",GROUP:"group"},It=ft.a.div(ct||(ct=Object(xt.a)(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    padding: 16px 36px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  "])),Ot),Ft=ft.a.span(ot||(ot=Object(xt.a)(["\n    color: ",";\n    text-decoration: underline;\n    font-weight: 700;\n    font-size: 21px;\n  "])),Ot),Pt=function(e){var t=e.isCreationMode,n=e.getCreationData,i=e.cancelCreationFunction,a=void 0===i?function(){}:i,c=e.questionTitle,o=e.id,s=e.deleteFunction,l=void 0===s?function(){}:s,r=e.questionsMarkup,d=e.hasNoDelete,u=e.questionnType,j=void 0===u?null===Mt||void 0===Mt?void 0:Mt.GROUP:u,h=Object(x.useHistory)(),b={backgroundColor:"#fff",position:"absolute",top:-25,left:"50%",transform:"translateX(-50%)",padding:"5px 10px"},v=function(){a()},f=Object(m.jsxs)(It,{className:"my-5 rounded-2",style:{flexDirection:"column",alignItems:"stretch",position:"relative"},children:[Object(m.jsx)(Te.a,{variant:"h5",className:"fw-bolder",color:"primary",style:b,children:"Create Group Question"}),Object(m.jsx)(Le.a,{initialValues:{groupName:""},onSubmit:function(e){n(e)},children:function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(xe.a,{fullWidth:!0,onChange:e.handleChange,onBlur:e.handleBlur,name:"groupName",required:!0,label:"Group Name",variant:"outlined"})}),Object(m.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(m.jsx)("button",{onClick:v,className:"btn btn-secondary mx-auto mt-4",children:"Cancel"}),Object(m.jsx)("button",{onClick:e.handleSubmit,className:"btn btn-primary mx-auto mt-4",children:"Save"})]})]})}})]});return t?f:Object(m.jsx)("div",{children:Object(m.jsxs)(It,{className:"my-5 rounded-2",style:{flexDirection:"column",alignItems:"stretch",position:"relative"},children:[Object(m.jsx)(Te.a,{variant:"h5",className:"fw-bolder",color:"primary",style:b,textTransform:"capitalize",children:j}),d?Object(m.jsx)("div",{className:"my-4",children:Object(m.jsx)(Ft,{className:"text-decoration-none",children:c})}):Object(m.jsxs)("div",{className:"my-4 w-100 d-flex align-items-start justify-content-between",children:[Object(m.jsx)(St,{onClick:function(){h.push("/questions/"+o)},children:Object(m.jsx)(Ft,{children:c})}),Object(m.jsx)(St,{onClick:l,children:Object(m.jsx)(kt.a,{color:"error",fontSize:"large"})})]}),Object(m.jsx)("div",{className:"mx-5",children:r})]})})},Dt=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"createMcqQuestion",value:function(e){return X.post("/questions/create",Object(N.a)({type:Mt.MCQ},e))}},{key:"createEssayQuestion",value:function(e){return X.post("/questions/create",Object(N.a)({type:Mt.ESSAY},e))}},{key:"getQuestionDetails",value:function(e){return X.get("/questions/".concat(e))}},{key:"editQuestion",value:function(e,t){return X.put("/questions/".concat(e),Object(N.a)({},t))}},{key:"deleteQuestion",value:function(e){return X.delete("/questions/".concat(e))}},{key:"getMyQuestions",value:function(e){return X.get("/questions",{params:e})}},{key:"createFormulaQuestion",value:function(e){return X.post("/questions/formula/create",Object(N.a)({type:Mt.FORMULA},e))}},{key:"editFormulaQuestion",value:function(e,t){return X.put("/questions/formula/".concat(e),Object(N.a)({type:Mt.FORMULA},t))}},{key:"createGroupQuestion",value:function(e){return X.post("/questions/question-group/create",Object(N.a)({type:Mt.GROUP},e))}},{key:"editGroupQuestion",value:function(e,t){return X.put("/questions/question-group/".concat(e),Object(N.a)({type:Mt.GROUP},t))}}]),e}(),Rt=function(){var e,t,n=Object(x.useHistory)(),a=Object(_.useLocation)(),c=Object(s.c)(),o=Object(i.useState)(null),l=Object(L.a)(o,2),r=l[0],d=l[1],u=Object(i.useState)(null),j=Object(L.a)(u,2),h=j[0],b=j[1],v=Object(i.useState)(null),f=Object(L.a)(v,2),O=f[0],p=f[1],g=[{displayName:"Create a new question",function:function(){n.push("/questions/add",{fromExamCreation:!0,isFromGroup:Boolean(O),groupId:O})}},{displayName:"Select from question bank",function:function(){var e,t;try{e=(e=Object(oe.a)(D)).map((function(e){return e.id}))}catch(c){e=[]}try{t=(t=Object(oe.a)(z)).map((function(e){return[e.id].concat(Object(oe.a)(e.questions.map((function(e){return e.id}))))}))}catch(o){t=[]}var i=t.flat(),a=[].concat(Object(oe.a)(e),Object(oe.a)(i));n.push("/questions",{canSelectQuestionsForExam:!0,isFromGroup:Boolean(O),groupId:O,allSelectedQuestionIds:a})}}],y=[].concat(g,[,{displayName:"Create a new group",function:function(){Z(!0),setTimeout((function(){document.getElementById("scrollElementToGroupCreationForm").scrollIntoView({behavior:"smooth",block:"center"})}),100)}}]),N=Boolean(null===(e=a.state)||void 0===e?void 0:e.exam),w=(null===(t=a.state)||void 0===t||t.exam,Object(i.useState)(null)),k=Object(L.a)(w,2),S=k[0],q=k[1],C=Object(i.useState)(null),A=Object(L.a)(C,2),T=A[0],E=A[1];Object(i.useEffect)((function(){var e=Object(x.matchPath)(n.location.pathname,{path:"/exams/:examId/add-questions"});E(e.params.examId)}),[n.location.pathname]),Object(i.useEffect)((function(){T&&Ge.getExamQuestions(T).then((function(e){q(null===e||void 0===e?void 0:e.questions)})).catch((function(e){return he(e)}))}),[T]);var M=Object(i.useState)(null),I=Object(L.a)(M,2),D=I[0],R=I[1],B=Object(s.d)((function(e){var t;return null===e||void 0===e||null===(t=e.exam)||void 0===t?void 0:t.examQuestions}));Object(i.useEffect)((function(){S&&function(){var e=null===S||void 0===S?void 0:S.filter((function(e){return e.type!==Mt.GROUP}));R([].concat(Object(oe.a)(e),Object(oe.a)(B)))}()}),[S]);var W=function(e){c(function(e){return{type:F,payload:e}}(e)),R((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t.id!==e}))})),U((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t.id!==e}))})),q((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t.id!==e}))}))},Q=Object(i.useState)(null),H=Object(L.a)(Q,2),z=H[0],U=H[1],V=Object(s.d)((function(e){var t;return null===e||void 0===e||null===(t=e.exam)||void 0===t?void 0:t.examGroups}));Object(i.useEffect)((function(){var e=(null===S||void 0===S?void 0:S.filter((function(e){return(null===e||void 0===e?void 0:e.type)===Mt.GROUP})))||[];U([].concat(Object(oe.a)(e),Object(oe.a)(V)))}),[S,V]);var G=Object(i.useState)(!1),Y=Object(L.a)(G,2),J=Y[0],Z=Y[1];return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:N?"Edit Exam: edit questions":"Create Exam: add questions",children:Object(m.jsxs)("div",{className:"p-4",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[Object(m.jsx)("button",{onClick:function(e){d(e.currentTarget)},className:"btn btn-success",children:Object(m.jsx)(et.a,{className:"primaryColoredIcon",style:{color:"#fff"}})}),Object(m.jsx)(vt,{methods:y,anchorEl:r,setAnchorEl:d})]}),Object(m.jsx)("div",{children:null===D||void 0===D?void 0:D.map((function(e){return Object(m.jsx)(At,{deleteFunction:function(){return W(null===e||void 0===e?void 0:e.id)},id:null===e||void 0===e?void 0:e.id,questionTitle:null===e||void 0===e?void 0:e.questionText},null===e||void 0===e?void 0:e.id)}))}),Object(m.jsx)(vt,{methods:g,anchorEl:h,setAnchorEl:function(){b(null),p(null)}}),Object(m.jsx)("div",{children:null===z||void 0===z?void 0:z.map((function(e){var t;return Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)("button",{onClick:function(t){return function(e,t){b(e.currentTarget),p(t)}(t,null===e||void 0===e?void 0:e.id)},className:"btn btn-success position-absolute p-0 rounded-circle",style:{top:-20,zIndex:20,right:-10,width:44,height:44},children:Object(m.jsx)(et.a,{className:"primaryColoredIcon",style:{color:"#fff",transform:"scale(0.8)"}})}),Object(m.jsx)(Pt,{questionTitle:null===e||void 0===e?void 0:e.questionText,deleteFunction:function(){return W(null===e||void 0===e?void 0:e.id)},questionsMarkup:null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(At,{id:null===e||void 0===e?void 0:e.id,questionTitle:null===e||void 0===e?void 0:e.questionText},null===e||void 0===e?void 0:e.id)}))})]},e.id)}))}),Object(m.jsx)("div",{id:"scrollElementToGroupCreationForm"}),J?Object(m.jsx)("div",{children:Object(m.jsx)(Pt,{isCreationMode:!0,cancelCreationFunction:function(){Z(!1),window.scrollTo({top:0,behavior:"smooth"})},getCreationData:function(e){Dt.createGroupQuestion({questionText:null===e||void 0===e?void 0:e.groupName}).then((function(t){var n={id:t.id,questionText:null===e||void 0===e?void 0:e.groupName,type:Mt.GROUP,questions:[]};c(Et(n)),Z(!1)})).catch((function(e){return he(e)}))}})}):null,Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){var e,t=Object(oe.a)(D);t=null===(e=t)||void 0===e?void 0:e.map((function(e){return{question_id:e.id}}));var i=null===z||void 0===z?void 0:z.map((function(e){return{question_id:e.id}}));t=[].concat(Object(oe.a)(t||[]),Object(oe.a)(i||[])),(N?Ge.editQuestionsOfExam(T,t):Ge.addQuestionsToExam(T,t)).then((function(e){n.push("/exams"),c({type:P,payload:null}),be("Exam has been created successfully!")})).catch((function(e){return he(e)}))},className:"btn btn-primary mx-auto mt-4",children:"Submit"})})]})})})})},Bt=n(7),Wt=n(2136),Qt=n(2138),Ht=n(2104),zt=n(191),Ut=n(2135),Vt=n(2137),_t=n(2134),Lt=n(279),Gt=n(125),Yt=n.n(Gt),Jt=n(2124),Zt=n(158),$t=n.n(Zt),Kt=n(157),Xt=n.n(Kt),en=n(255),tn=n.n(en),nn=n(256),an=n.n(nn),cn=n(254),on=n.n(cn),sn=function(e){var t=e.text;return Object(m.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(m.jsx)(on.a,{color:"error"}),Object(m.jsx)(Te.a,{className:"ms-1",color:"error",children:t})]})},ln=Object(Fe.a)(Ht.a)((function(e){var t,n=e.theme;return t={},Object(Bt.a)(t,"&.".concat(zt.a.head),{backgroundColor:Ot,color:n.palette.common.white,fontWeight:700}),Object(Bt.a)(t,"&.".concat(zt.a.body),{fontSize:16}),Object(Bt.a)(t,"&.".concat(zt.a.body,":first-of-type"),{fontWeight:700}),t})),rn=Object(Fe.a)(_t.a)((function(e){return{"&":{cursor:"pointer"},"&:hover":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),dn=function(){var e=Object(x.useHistory)(),t=Object(s.c)(),n=Object(i.useState)(null),c=Object(L.a)(n,2),o=c[0],l=c[1],r=function(){Ge.getMyExams().then((function(e){l(e)})).catch((function(e){return he(e)}))};Object(i.useEffect)((function(){r()}),[]);var d=a.a.useState(null),u=Object(L.a)(d,2),j=u[0],h=u[1],b=a.a.useState(null),v=Object(L.a)(b,2),f=v[0],O=v[1],p=Boolean(j),g=function(){h(null),O(null)},y=function(e){var t;return!e.config||!(null===(t=e.questions)||void 0===t?void 0:t.length)},N=function(){if(!(null===o||void 0===o?void 0:o.length))return null;var e=o.find((function(e){return e.id===f}));return null===e||void 0===e?void 0:e.isPublished};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{style:{},className:"d-flex mt-4 justify-content-end",children:Object(m.jsx)("button",{onClick:function(t){e.push("/exams/add")},className:"btn btn-success",children:Object(m.jsx)(et.a,{className:"primaryColoredIcon",style:{color:"#fff"}})})}),(null===o||void 0===o?void 0:o.length)?Object(m.jsx)(Ut.a,{className:"mt-5",component:Lt.a,children:Object(m.jsxs)(Wt.a,{sx:{minWidth:700},"aria-label":"customized table",children:[Object(m.jsx)(Vt.a,{children:Object(m.jsxs)(_t.a,{children:[Object(m.jsx)(ln,{children:"Exam Name"}),Object(m.jsx)(ln,{align:"right",children:"Start Date"}),Object(m.jsx)(ln,{align:"right",children:"End Date"}),Object(m.jsx)(ln,{align:"right",children:"Total Marks"}),Object(m.jsx)(ln,{align:"right",children:"Duration"}),Object(m.jsx)(ln,{align:"right",children:" "})]})}),Object(m.jsx)(Qt.a,{children:null===o||void 0===o?void 0:o.map((function(t){return Object(m.jsxs)(rn,{className:y(t)?"bg-danger disablePointer":"",onClick:y(t)?null:function(){return n=t.id,void e.push("/exams/".concat(n));var n},children:[Object(m.jsxs)(ln,{className:y(t)?"text-light":"",component:"th",scope:"row",children:[t.name,t.isPublished?Object(m.jsx)(Jt.a,{className:"ms-2",size:"small",color:"success",icon:Object(m.jsx)(tn.a,{}),label:"Published"}):null]}),Object(m.jsx)(ln,{className:y(t)?"text-light":"",align:"right",children:t.startAt}),Object(m.jsx)(ln,{className:y(t)?"text-light":"",align:"right",children:t.endAt}),Object(m.jsx)(ln,{className:y(t)?"text-light":"",align:"right",children:t.totalMark}),Object(m.jsx)(ln,{className:y(t)?"text-light":"",align:"right",children:t.duration}),Object(m.jsx)(ln,{style:{cursor:"pointer"},className:y(t)?"text-light":"",onClick:function(e){return n=e,i=t.id,n.stopPropagation(),O(i),void h(n.currentTarget);var n,i},align:"right",children:Object(m.jsx)(Yt.a,{fontSize:"medium",color:y(t)?"#fff":"secondary"})})]},t.id)}))})]})}):null,(null===o||void 0===o?void 0:o.length)?null:Object(m.jsx)(sn,{text:"No Exams Right Now"}),f&&Object(m.jsxs)(mt.a,{id:"basic-menu",anchorEl:j,open:p,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},autoFocus:!1,onClose:g,MenuListProps:{"aria-labelledby":"basic-button"},children:[function(){var e;if(!(null===o||void 0===o?void 0:o.length))return null;var t=o.find((function(e){return e.id===f}));return!(null===t||void 0===t?void 0:t.config)||!(null===t||void 0===t||null===(e=t.questions)||void 0===e?void 0:e.length)}()?null:Object(m.jsxs)(ht.a,{onClick:function(){return function(e){var t=o.find((function(e){return e.id===f})),n=null===t||void 0===t?void 0:t.name;(e?Ge.makeExamPublished(f):Ge.makeExamUnPublished(f)).then((function(t){be("Your Exam (".concat(n,") has been ").concat(e?"published":"unpublished"," successfully!"))})).catch((function(e){return he(e)})).finally((function(){g(),r()}))}(!N())},children:[Object(m.jsx)(an.a,{}),N()?"UnPublish":"Publish"]}),Object(m.jsxs)(ht.a,{onClick:function(){var t=o.find((function(e){return e.id===f}));e.push("/exams/edit",{exam:t}),g()},children:[Object(m.jsx)(Xt.a,{}),"Edit"]}),Object(m.jsxs)(ht.a,{color:"error",onClick:function(){t(B({header:"Delete this exam?",details:"You are going to delete this exam permanently",alertFunction:function(){Ge.deleteExam(f).then((function(e){be("Exam deleted successfully!");var t=Object(oe.a)(o);t=t.filter((function(e){return e.id!==f})),l(t)})).catch((function(e){return he(e)})).finally((function(){g(),t(W())}))}}))},children:[Object(m.jsx)($t.a,{color:"error"}),"Delete"]})]})]})},un=n(2139),jn=n(2140),mn=n(2117),hn=n(257),bn=n.n(hn),vn=n(258),xn=n.n(vn),fn=Object(Fe.a)(Ht.a)((function(e){var t,n=e.theme;return t={},Object(Bt.a)(t,"&.".concat(zt.a.head),{backgroundColor:Ot,color:n.palette.common.white,fontWeight:700}),Object(Bt.a)(t,"&.".concat(zt.a.body),{fontSize:16}),Object(Bt.a)(t,"&.".concat(zt.a.body,":first-of-type"),{fontWeight:700}),t})),On=Object(Fe.a)(_t.a)((function(e){return{"&":{cursor:"pointer"},"&:hover":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),pn=function(){var e,t,n,c=Object(s.c)(),o=Object(x.useHistory)(),l=Object(x.useLocation)(),r=null===(e=l.state)||void 0===e?void 0:e.canSelectQuestionsForExam,d=Object(i.useState)(null),u=Object(L.a)(d,2),j=u[0],h=u[1];Object(i.useEffect)((function(){}),[]);var b=a.a.useState(null),v=Object(L.a)(b,2),f=v[0],O=v[1],p=a.a.useState(null),g=Object(L.a)(p,2),y=g[0],w=g[1],k=Boolean(f),S=function(){O(null),w(null)},q=(null===j||void 0===j||j.every((function(e){return e.isSelected})),null===j||void 0===j?void 0:j.filter((function(e){return e.isSelected}))),C=null===(t=l.state)||void 0===t?void 0:t.groupId,A=Object(i.useState)(null),T=Object(L.a)(A,2),E=T[0],M=T[1],I=Object(i.useState)(null),F=Object(L.a)(I,2),P=F[0],D=F[1],R=Object(i.useState)(""),Q=Object(L.a)(R,2),H=Q[0],z=Q[1],U=Object(i.useState)(!0),V=Object(L.a)(U,2),_=V[0],G=V[1];Object(i.useEffect)((function(){Dt.getMyQuestions({myQuestions:null===E||void 0===E?void 0:E.isMyQuestions,tag:null===E||void 0===E?void 0:E.tag,type:null===E||void 0===E?void 0:E.type,search:null===E||void 0===E?void 0:E.search}).then((function(e){h(e)})).catch((function(e){return he(e)}))}),[E]);var Y=function(){z(""),G(!0),M((function(e){return Object(N.a)(Object(N.a)({},e),{},{search:null})}))},J=Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)(xe.a,{name:"search",fullWidth:!0,value:H,type:"text",label:"Search",variant:"outlined",onChange:function(e){z(e.target.value),G(!0)}}),Object(m.jsx)("div",{onClick:_?function(){H&&(G(!1),M((function(e){return Object(N.a)(Object(N.a)({},e),{},{search:H})})))}:Y,className:"position-absolute p-2 pointer",style:{right:0,top:"50%",zIndex:10,transform:"translateY(-50%)"},children:_?Object(m.jsx)(bn.a,{style:H?{}:{cursor:"not-allowed"},color:"secondary"}):Object(m.jsx)(kt.a,{color:"secondary"})})]}),Object(m.jsx)("div",{className:"d-flex align-items-center p-2 pointer",onClick:function(e){return D(e.currentTarget)},children:Object(m.jsx)(xn.a,{color:"secondary",fontSize:"large"})}),Object(m.jsx)(mt.a,{id:"basic-menu2",anchorEl:P,open:Boolean(P),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},autoFocus:!1,onClose:function(){D(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(m.jsxs)("div",{className:"p-3",children:[Object(m.jsx)("div",{onClick:function(){M(null),Y(),D(!1)},className:"pointer mb-3 d-flex justify-content-end",children:Object(m.jsx)(Te.a,{color:"secondary",className:"text-decoration-underline",children:"clear filter"})}),Object(m.jsx)(Le.a,{enableReinitialize:!0,initialValues:{type:(null===E||void 0===E?void 0:E.type)||"",tag:(null===E||void 0===E?void 0:E.tag)||"",isMyQuestions:(null===E||void 0===E?void 0:E.isMyQuestions)||!1},onSubmit:function(e){M((function(t){return Object(N.a)(Object(N.a)({},t),e)})),D(!1)},children:function(e){return Object(m.jsxs)("form",{className:"p-2",onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(xe.a,{name:"type",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.type,fullWidth:!0,select:!0,label:"Type",variant:"outlined",children:Object.keys(Mt).map((function(e){return Object(m.jsx)(ht.a,{value:Mt[e],children:e},e)}))})}),Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(xe.a,{name:"tag",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.tag,fullWidth:!0,type:"text",label:"Tags",variant:"outlined"})}),Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(un.a,{control:Object(m.jsx)(jn.a,{checked:e.values.isMyQuestions,onChange:e.handleChange,onBlur:e.handleBlur,name:"isMyQuestions",color:"primary"}),label:"Show My Questions Only"})}),Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("button",{className:"btn btn-secondary mx-auto",type:"button",onClick:function(){D(null)},children:"Cancel"}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto",type:"submit",children:"Apply"})]})]})}})]})})]}),Z=null===(n=l.state)||void 0===n?void 0:n.allSelectedQuestionIds,$=function(e){return null===Z||void 0===Z?void 0:Z.includes(e)},K={backgroundColor:"#eee"};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"d-flex mt-4 justify-content-end",children:r?Object(m.jsxs)("button",{onClick:function(){if(C)Dt.getQuestionDetails(C).then((function(e){var t,n=null===e||void 0===e?void 0:e.question,i=null===e||void 0===e||null===(t=e.question)||void 0===t?void 0:t.questions;return Dt.editGroupQuestion(C,{questionText:null===n||void 0===n?void 0:n.questionText,questions:[].concat(Object(oe.a)(null===i||void 0===i?void 0:i.map((function(e){return e.id}))),Object(oe.a)(null===q||void 0===q?void 0:q.map((function(e){return e.id}))))})})).then((function(e){c(Tt(q,C)),o.goBack()})).catch((function(e){return he(e)}));else{var e=null===q||void 0===q?void 0:q.filter((function(e){return e.type!==Mt.GROUP})),t=null===q||void 0===q?void 0:q.filter((function(e){return e.type===Mt.GROUP}));(null===t||void 0===t?void 0:t.length)&&c(Et(t)),(null===e||void 0===e?void 0:e.length)&&c(Tt(e,null)),o.goBack()}},className:"btn btn-success",children:["Confirm Selection (",null===q||void 0===q?void 0:q.length,")"]}):Object(m.jsx)("button",{onClick:function(){o.push("".concat(o.location.pathname,"/add"))},className:"btn btn-success",children:Object(m.jsx)(et.a,{className:"primaryColoredIcon",style:{color:"#fff"}})})}),J,(null===j||void 0===j?void 0:j.length)?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ut.a,{className:"mt-1",component:Lt.a,children:Object(m.jsxs)(Wt.a,{sx:{minWidth:700},"aria-label":"customized table",children:[Object(m.jsx)(Vt.a,{children:Object(m.jsxs)(_t.a,{children:[r&&Object(m.jsx)(fn,{}),Object(m.jsx)(fn,{children:"Question Header"}),Object(m.jsx)(fn,{align:"right",children:"Type"}),Object(m.jsx)(fn,{align:"right",children:"Owned By"}),Object(m.jsx)(fn,{align:"right",children:"Created Date"}),!r&&Object(m.jsx)(fn,{align:"right",children:" "})]})}),Object(m.jsx)(Qt.a,{children:null===j||void 0===j?void 0:j.map((function(e,t){return Object(m.jsxs)(On,{style:$(e.id)?K:null,onClick:function(){return t=e.id,void o.push("".concat(o.location.pathname,"/").concat(t));var t},children:[r&&Object(m.jsx)(fn,{onClick:function(e){return e.stopPropagation()},component:"th",scope:"row",children:Object(m.jsx)(mn.a,{disabled:$(e.id),color:"primary",checked:Boolean(e.isSelected),onChange:function(e){return function(e,t){h((function(n){var i=Object(oe.a)(n);return i[e].isSelected=t,i}))}(t,e.target.checked)}})}),Object(m.jsx)(fn,{component:"th",scope:"row",children:e.questionText}),Object(m.jsx)(fn,{align:"right",children:e.type}),Object(m.jsx)(fn,{align:"right",children:"".concat(e.instructor.degree,", ").concat(e.instructorName)}),Object(m.jsx)(fn,{align:"right",children:e.created_at}),!r&&Object(m.jsx)(fn,{onClick:function(t){return n=t,i=e.id,n.stopPropagation(),w(i),void O(n.currentTarget);var n,i},align:"right",children:Object(m.jsx)(Yt.a,{fontSize:"medium",color:"secondary"})})]},e.id)}))})]})})}):null,(null===j||void 0===j?void 0:j.length)?null:Object(m.jsx)(sn,{text:"No Questions at the moment"}),Object(m.jsxs)(mt.a,{id:"basic-menu",anchorEl:f,open:k,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},autoFocus:!1,onClose:S,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(m.jsxs)(ht.a,{onClick:function(){var e=j.find((function(e){return e.id===y}));o.push("/questions/edit",{question:e}),S()},children:[Object(m.jsx)(Xt.a,{}),"Edit"]}),Object(m.jsxs)(ht.a,{color:"error",onClick:function(){c(B({header:"Delete this question?",details:"You are going to delete this question permanently",alertFunction:function(){Dt.deleteQuestion(y).then((function(e){be("Question deleted successfully!");var t=Object(oe.a)(j);t=t.filter((function(e){return e.id!==y})),h(t)})).catch((function(e){return he(e)})).finally((function(){S(),c(W())}))}}))},children:[Object(m.jsx)($t.a,{color:"error"}),"Delete"]})]})]})},gn=function(){var e,t,n=Object(_.useHistory)(),a=Object(_.useLocation)(),c=Object(i.useState)(null),o=Object(L.a)(c,2),s=o[0],l=o[1],r=Boolean(null===(e=a.state)||void 0===e?void 0:e.exam),d=null===(t=a.state)||void 0===t?void 0:t.exam,u=null===d||void 0===d?void 0:d.config;Object(i.useEffect)((function(){var e=Object(x.matchPath)(n.location.pathname,{path:"/exams/:examId/set-options"});l(e.params.examId)}),[n.location.pathname]);return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:r?"Edit Exam: options":"Create Exam: options",children:Object(m.jsx)(Le.a,{initialValues:{faceRecognition:!!u&&Boolean(null===u||void 0===u?void 0:u.faceRecognition),faceDetection:!!u&&Boolean(null===u||void 0===u?void 0:u.faceDetection),questionsRandomOrder:!!u&&Boolean(null===u||void 0===u?void 0:u.questionsRandomOrder),plagiarismCheck:!!u&&Boolean(null===u||void 0===u?void 0:u.plagiarismCheck),disableSwitchBrowser:!!u&&Boolean(null===u||void 0===u?void 0:u.disableSwitchBrowser),gradingMethod:!u||Boolean("auto"===(null===u||void 0===u?void 0:u.gradingMethod))},onSubmit:function(e,t){var i=Object(N.a)({},e);i.gradingMethod=i.gradingMethod?"auto":"manual",r&&u?Ge.editExamOptions(s,i).then((function(e){be("Exam options has been edited!"),n.push("/exams/".concat(null===d||void 0===d?void 0:d.id,"/add-questions"),{exam:d})})).catch((function(e){return he(e)})):Ge.setExamOptions(s,i).then((function(e){be("Exam options has been saved!"),n.push("/exams/".concat(s,"/add-questions"))})).catch((function(e){return he(e)}))},children:function(e){return Object(m.jsxs)("form",{className:"m-5",onSubmit:e.handleSubmit,children:[Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("questionsRandomOrder",!e.values.questionsRandomOrder)},children:"Questions Random Order"}),Object(m.jsx)(jn.a,{name:"questionsRandomOrder",checked:e.values.questionsRandomOrder,onChange:e.handleChange,color:"primary"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("disableSwitchBrowser",!e.values.disableSwitchBrowser)},children:"Disable Switch Browser"}),Object(m.jsx)(jn.a,{name:"disableSwitchBrowser",checked:e.values.disableSwitchBrowser,onChange:e.handleChange,color:"primary"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("plagiarismCheck",!e.values.plagiarismCheck)},children:"Plagiarism Check"}),Object(m.jsx)(jn.a,{name:"plagiarismCheck",checked:e.values.plagiarismCheck,onChange:e.handleChange,color:"primary"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("faceDetection",!e.values.faceDetection)},children:"Face Detection"}),Object(m.jsx)(jn.a,{name:"faceDetection",checked:e.values.faceDetection,onChange:e.handleChange,color:"primary"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("gradingMethod",!e.values.gradingMethod)},children:"Automatic Grading"}),Object(m.jsx)(jn.a,{name:"gradingMethod",checked:e.values.gradingMethod,onChange:e.handleChange,color:"primary"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{onClick:function(){return e.setFieldValue("faceRecognition",!e.values.faceRecognition)},children:"Face Recognition"}),Object(m.jsx)(jn.a,{name:"faceRecognition",checked:e.values.faceRecognition,onChange:e.handleChange,color:"primary"})]}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto mt-4",type:"submit",children:"Next"})]})}})})})})},yn=ft.a.label(st||(st=Object(xt.a)(["\n    display: block;\n    font-size: 20px;\n    font-weight: 700;\n    color: #000;\n"]))),Nn=Object(ft.a)(yn)(lt||(lt=Object(xt.a)(["\n    color: ",";\n"])),yt),wn=Object(ft.a)(yn)(rt||(rt=Object(xt.a)(["\n    color: ",";\n"])),Nt),kn=function(e){var t,n,i=e.initValues,a=e.getQuestionCreationRequest,c=void 0===a?function(){}:a,o=$e.c().shape({questionText:$e.d().required("This is a required field"),correctAnswer:$e.d().required("This is a required field"),choice1:$e.d().required("This is a required field"),choice2:$e.d().required("This is a required field"),choice3:$e.d().required("This is a required field")}),s=null===i||void 0===i||null===(t=i.options)||void 0===t?void 0:t.filter((function(e){return!e.isCorrect})),l=null===i||void 0===i||null===(n=i.options)||void 0===n?void 0:n.find((function(e){return e.isCorrect}));return Object(m.jsx)(Le.a,{initialValues:{questionText:(null===i||void 0===i?void 0:i.questionText)||"",correctAnswer:(null===l||void 0===l?void 0:l.value)||"",choice1:(null===s||void 0===s?void 0:s[0].value)||"",choice2:(null===s||void 0===s?void 0:s[1].value)||"",choice3:(null===s||void 0===s?void 0:s[2].value)||""},enableReinitialize:!0,validationSchema:o,onSubmit:function(e){if(i){var t=Dt.editQuestion(null===i||void 0===i?void 0:i.id,{questionText:e.questionText,correctAnswer:e.correctAnswer,answers:[e.correctAnswer,e.choice1,e.choice2,e.choice3]});c(t)}else{var n=Dt.createMcqQuestion({questionText:e.questionText,correctAnswer:e.correctAnswer,answers:[e.correctAnswer,e.choice1,e.choice2,e.choice3]});c(n)}},children:function(e){return Object(m.jsxs)("form",{className:"m-5",onSubmit:e.handleSubmit,children:[Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(yn,{htmlFor:"questionText",className:"mb-2",children:"Question Text"}),Object(m.jsx)(xe.a,{name:"questionText",id:"questionText",placeholder:"Question on your mind....",multiline:!0,rows:4,fullWidth:!0,value:e.values.questionText,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.questionText&&e.errors.questionText,error:e.touched.questionText&&Boolean(e.errors.questionText),variant:"filled"})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(wn,{htmlFor:"correctAnswer",className:"mb-2",children:"Correct Option"}),Object(m.jsx)(xe.a,{name:"correctAnswer",id:"correctAnswer",placeholder:"Correct Answer....",fullWidth:!0,value:e.values.correctAnswer,onChange:e.handleChange,onBlur:e.handleBlur,variant:"filled",helperText:e.touched.correctAnswer&&e.errors.correctAnswer,error:e.touched.correctAnswer&&Boolean(e.errors.correctAnswer)})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Nn,{htmlFor:"choice1",className:"mb-2",children:"Wrong Option 1"}),Object(m.jsx)(xe.a,{name:"choice1",id:"choice1",placeholder:"Wrong Answer....",fullWidth:!0,value:e.values.choice1,onChange:e.handleChange,onBlur:e.handleBlur,variant:"filled",helperText:e.touched.choice1&&e.errors.choice1,error:e.touched.choice1&&Boolean(e.errors.choice1)})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Nn,{htmlFor:"choice2",className:"mb-2",children:"Wrong Option 2"}),Object(m.jsx)(xe.a,{name:"choice2",id:"choice2",placeholder:"Wrong Answer....",fullWidth:!0,value:e.values.choice2,onChange:e.handleChange,onBlur:e.handleBlur,variant:"filled",helperText:e.touched.choice2&&e.errors.choice2,error:e.touched.choice2&&Boolean(e.errors.choice2)})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Nn,{htmlFor:"choice3",className:"mb-2",children:"Wrong Option 3"}),Object(m.jsx)(xe.a,{name:"choice3",id:"choice3",placeholder:"Wrong Answer....",fullWidth:!0,value:e.values.choice3,onChange:e.handleChange,onBlur:e.handleBlur,variant:"filled",helperText:e.touched.choice3&&e.errors.choice3,error:e.touched.choice3&&Boolean(e.errors.choice3)})]}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto mt-4",type:"submit",children:i?"EDIT":"ADD"})]})}})},Sn=n(260),qn=ft.a.label(dt||(dt=Object(xt.a)(["\n    display: block;\n    font-size: 20px;\n    font-weight: 700;\n    color: #000;\n"]))),Cn=Object(ft.a)(qn)(ut||(ut=Object(xt.a)(["\n    color: ",";\n"])),Nt),An=function(e){var t,n=e.initValues,i=e.getQuestionCreationRequest,a=void 0===i?function(){}:i,c=$e.c().shape({questionText:$e.d().required("This is a required field"),correctAnswer:$e.d().required("This is a required field")});return Object(m.jsx)(Le.a,{initialValues:{questionText:(null===n||void 0===n?void 0:n.questionText)||"",correctAnswer:(null===n||void 0===n||null===(t=n.options[0])||void 0===t?void 0:t.value)||""},enableReinitialize:!0,validationSchema:c,onSubmit:function(e){if(n){var t=Dt.editQuestion(null===n||void 0===n?void 0:n.id,{questionText:e.questionText,answers:[e.correctAnswer]});a(t)}else{var i=Dt.createEssayQuestion({questionText:null===e||void 0===e?void 0:e.questionText,answers:[null===e||void 0===e?void 0:e.correctAnswer]});a(i)}},children:function(e){return Object(m.jsxs)("form",{className:"m-5",onSubmit:e.handleSubmit,children:[Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(qn,{htmlFor:"questionText",className:"mb-2",children:"Question Text"}),Object(m.jsx)(xe.a,{name:"questionText",id:"questionText",placeholder:"Question on your mind....",multiline:!0,rows:4,fullWidth:!0,value:e.values.questionText,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.questionText&&e.errors.questionText,error:e.touched.questionText&&Boolean(e.errors.questionText),variant:"filled"})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Cn,{htmlFor:"correctAnswer",className:"mb-2",children:"Model Answer"}),Object(m.jsx)(xe.a,{name:"correctAnswer",id:"correctAnswer",placeholder:"Model Answer....",multiline:!0,rows:9,fullWidth:!0,value:e.values.correctAnswer,onChange:e.handleChange,onBlur:e.handleBlur,variant:"filled",helperText:e.touched.correctAnswer&&e.errors.correctAnswer,error:e.touched.correctAnswer&&Boolean(e.errors.correctAnswer)})]}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto mt-4",type:"submit",children:"ADD"})]})}})},Tn=n(259),En=n.n(Tn),Mn=function(e,t){var n=Math.max(e,t),i=Math.min(e,t);return Math.floor(Math.random()*(n-i+1))+i},In=function(){return Mn},Fn=/\[[a-z A-Z]+\]/g,Pn=/\[|\]/g,Dn=ft.a.label(jt||(jt=Object(xt.a)(["\n    display: block;\n    font-size: 20px;\n    font-weight: 700;\n    color: #000;\n"]))),Rn=function(e){var t,n,a=e.initValues,c=e.getQuestionCreationRequest,o=void 0===c?function(){}:c,s=$e.c().shape({questionText:$e.d().required("This is a required field"),formula:$e.d().required("This is a required field"),numberOfQuestions:$e.b().required().max(50).min(1)}),l=Boolean(a),r=In(),d=Object(i.useState)(null),u=Object(L.a)(d,2),j=u[0],h=u[1],b=Object(i.useState)([]),v=Object(L.a)(b,2),x=v[0],f=v[1],O=Object(i.useState)([]),p=Object(L.a)(O,2),g=p[0],y=p[1],w=Object(i.useState)(""),k=Object(L.a)(w,2),S=k[0],q=k[1];Object(i.useEffect)((function(){!function(){var e,t,n=Object(oe.a)(null===S||void 0===S?void 0:S.matchAll(Fn));n=null===(t=n=null===(e=n)||void 0===e?void 0:e.map((function(e){return e[0]})))||void 0===t?void 0:t.map((function(e){var t=e+"";return t.replace(Pn,"")}));var i=Array.from(new Set(n));y(i)}()}),[S]);var C=Object(i.useState)(null),A=Object(L.a)(C,2),T=A[0],E=A[1];Object(i.useEffect)((function(){var e=null===g||void 0===g?void 0:g.map((function(e){return[e,"",""]}));if(T){var t={};T.forEach((function(e){t[e[0]]=[e[1],e[2]]})),e.forEach((function(e){(null===t||void 0===t?void 0:t[e[0]])&&(e[1]=null===t||void 0===t?void 0:t[e[0]][0],e[2]=null===t||void 0===t?void 0:t[e[0]][1])}))}f(e),E(e),P(null)}),[g]),Object(i.useEffect)((function(){var e;if(a){q(null===a||void 0===a?void 0:a.questionText);var t=null===a||void 0===a||null===(e=a.variables)||void 0===e?void 0:e.map((function(e){return[e.variable,e.startVal,e.endVal]}));E(t)}}),[a]);var M=Object(i.useState)(null),I=Object(L.a)(M,2),F=I[0],P=I[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Le.a,{initialValues:{questionText:(null===a||void 0===a?void 0:a.questionText)||"",correctAnswer:(null===a||void 0===a?void 0:a.correctAnswer)||"",formula:(null===a||void 0===a||null===(t=a.formula)||void 0===t?void 0:t.formula)||"",numberOfQuestions:(null===a||void 0===a||null===(n=a.formula_questions)||void 0===n?void 0:n.length)||""},enableReinitialize:!0,validationSchema:s,onSubmit:function(e){h(e);for(var t=e.numberOfQuestions,n=[],i=function(){var e=[];x.forEach((function(t){var n={};n.var=t[0],n.value=r(Number(t[1]),Number(t[2])),e.push(n)})),n.push({variables:e})};t--;)i();n=n.map((function(t){var n=e.formula+"";return t.variables.forEach((function(e){n=n.replaceAll(e.var,e.value)})),Object(N.a)(Object(N.a)({},t),{},{finalValue:En.a.eval(n)})})),P(n)},children:function(e){return Object(m.jsxs)("form",{className:"m-5",onSubmit:e.handleSubmit,children:[Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Dn,{htmlFor:"questionText",className:"mb-2",children:"Question Text"}),Object(m.jsx)(xe.a,{name:"questionText",id:"questionText",placeholder:"Question on your mind....",multiline:!0,rows:4,fullWidth:!0,value:e.values.questionText,onChange:function(t){e.handleChange(t),q(t.target.value)},onBlur:e.handleBlur,helperText:e.touched.questionText&&e.errors.questionText,error:e.touched.questionText&&Boolean(e.errors.questionText),variant:"filled"})]}),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Dn,{htmlFor:"formula",className:"mb-2",children:"Formula"}),Object(m.jsx)(xe.a,{name:"formula",id:"formula",placeholder:"Final Answer Formula",fullWidth:!0,value:e.values.formula,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.formula&&e.errors.formula,error:e.touched.formula&&Boolean(e.errors.formula),variant:"filled"})]}),null===x||void 0===x?void 0:x.map((function(e,t){return Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-5",children:[Object(m.jsx)(Dn,{style:{color:Ot},children:"".concat(e[0]," :")}),Object(m.jsx)(xe.a,{name:"min",label:"Min Value",placeholder:"Variable minimum value",value:e[1],onChange:function(e){return function(e,t){f((function(n){var i=Object(oe.a)(n);return i[t][1]=e,i}))}(e.target.value,t)},variant:"filled"}),Object(m.jsx)(xe.a,{name:"max",label:"Max Value",placeholder:"Variable maximum value",value:e[2],onChange:function(e){return function(e,t){f((function(n){var i=Object(oe.a)(n);return i[t][2]=e,i}))}(e.target.value,t)},variant:"filled"})]},t)})),Object(m.jsxs)("div",{className:"mt-4 text-start",children:[Object(m.jsx)(Dn,{htmlFor:"numberOfQuestions",className:"mb-2",children:"Number of random questions"}),Object(m.jsx)(xe.a,{name:"numberOfQuestions",id:"numberOfQuestions",type:"number",placeholder:"Max: 50",fullWidth:!0,value:e.values.numberOfQuestions,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.numberOfQuestions&&e.errors.numberOfQuestions,error:e.touched.numberOfQuestions&&Boolean(e.errors.numberOfQuestions),variant:"filled"})]}),Object(m.jsx)("button",{className:"btn btn-primary mx-auto mt-4",type:"submit",children:"Generate"}),F?Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)(Te.a,{variant:"h5",color:"primary",style:{textDecorationLine:"underline"},children:"Generated Questions"}),Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[null===g||void 0===g?void 0:g.map((function(e,t){return Object(m.jsx)("th",{scope:"col",children:e},t+"")})),Object(m.jsx)("th",{scope:"col",children:"Final Value"})]})}),Object(m.jsx)("tbody",{children:null===F||void 0===F?void 0:F.map((function(e,t){var n;return Object(m.jsxs)("tr",{children:[null===e||void 0===e||null===(n=e.variables)||void 0===n?void 0:n.map((function(e,t){return Object(m.jsx)("td",{children:e.value},t+"")})),Object(m.jsx)("th",{children:null===e||void 0===e?void 0:e.finalValue})]},t+"")}))})]})]}):null]})}}),Object(m.jsx)("button",{disabled:!F,onClick:function(){var e=null===F||void 0===F?void 0:F.map((function(e){var t,n=null===j||void 0===j?void 0:j.questionText;return null===e||void 0===e||null===(t=e.variables)||void 0===t||t.forEach((function(e){var t;n=null===(t=n)||void 0===t?void 0:t.replaceAll("[".concat(e.var,"]"),e.value)})),[n,e.finalValue]}));if(l){var t=Dt.editFormulaQuestion(null===a||void 0===a?void 0:a.id,{questionText:null===j||void 0===j?void 0:j.questionText,formula:null===j||void 0===j?void 0:j.formula,variables:x,formulas:e});o(t)}else{var n=Dt.createFormulaQuestion({questionText:null===j||void 0===j?void 0:j.questionText,formula:null===j||void 0===j?void 0:j.formula,variables:x,formulas:e});o(n)}},className:"btn btn-primary mx-auto mt-4",type:"button",children:l?"Edit":"ADD"})]})},Bn=function(){var e,t,n=Object(x.useHistory)(),a=Object(x.useLocation)(),c=Object(s.c)(),o=Boolean(null===(e=a.state)||void 0===e?void 0:e.question),l=null===(t=a.state)||void 0===t?void 0:t.question,r=Object(i.useState)(null),d=Object(L.a)(r,2),u=d[0],j=d[1];Object(i.useEffect)((function(){(null===l||void 0===l?void 0:l.id)&&Dt.getQuestionDetails(null===l||void 0===l?void 0:l.id).then((function(e){j(null===e||void 0===e?void 0:e.question)})).catch((function(e){return he(e)}))}),[null===l||void 0===l?void 0:l.id]);var h=Object(i.useState)(null),b=Object(L.a)(h,2),v=b[0],f=b[1];Object(i.useEffect)((function(){!function(){var e=Mt,t=[];Object.keys(e).forEach((function(n){Mt[n]!==Mt.GROUP&&t.push({id:n,value:e[n]})})),f(t)}()}),[]);var O=Object(i.useState)((null===l||void 0===l?void 0:l.type)||""),p=Object(L.a)(O,2),g=p[0],y=p[1],N=Object(m.jsx)("div",{className:"w-50 mx-auto",children:Object(m.jsx)(xe.a,{id:"outlined-select-currency",select:!0,fullWidth:!0,label:"Question Type",value:g,onChange:function(e){return y(e.target.value)},disabled:o,children:null===v||void 0===v?void 0:v.map((function(e){return Object(m.jsx)(ht.a,{value:e.value,children:e.value},e.id)}))})}),w=function(e){var t;e.then((function(e){var i,o,s;t=e;var l=null===a||void 0===a||null===(i=a.state)||void 0===i?void 0:i.fromExamCreation,r=(null===a||void 0===a||null===(o=a.state)||void 0===o||o.isFromGroup,null===a||void 0===a||null===(s=a.state)||void 0===s?void 0:s.groupId);r?Dt.getQuestionDetails(r).then((function(e){var n,i,a=null===e||void 0===e?void 0:e.question,c=null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.questions;return Dt.editGroupQuestion(r,{questionText:null===a||void 0===a?void 0:a.questionText,questions:[].concat(Object(oe.a)(null===c||void 0===c?void 0:c.map((function(e){return e.id}))),[null===(i=t)||void 0===i?void 0:i.id])})})).then((function(e){c(Tt([t],r)),be("Request done successfully"),n.goBack()})).catch((function(e){return he(e)})):(l&&c(Tt([t],r)),be("Request done successfully"),n.goBack())})).catch((function(e){return he(e)}))};return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:o?"Edit Question":"Add Question",children:Object(m.jsxs)("div",{className:"p-4",children:[v&&N,!g&&Object(m.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center mt-5",children:[Object(m.jsx)(Sn.ExclamationCircleOutlined,{size:36,style:{color:yt,marginInlineEnd:".5rem"}}),Object(m.jsx)("h6",{className:"text-danger m-0",children:"Please Choose Question Type"})]}),g===Mt.MCQ&&Object(m.jsx)("div",{children:Object(m.jsx)(kn,{initValues:(null===u||void 0===u?void 0:u.type)===Mt.MCQ?u:null,getQuestionCreationRequest:w})}),g===Mt.ESSAY&&Object(m.jsx)("div",{children:Object(m.jsx)(An,{initValues:(null===u||void 0===u?void 0:u.type)===Mt.ESSAY?u:null,getQuestionCreationRequest:w})}),g===Mt.FORMULA&&Object(m.jsx)("div",{children:Object(m.jsx)(Rn,{initValues:(null===u||void 0===u?void 0:u.type)===Mt.FORMULA?u:null,getQuestionCreationRequest:w})})]})})})})},Wn=n(2141),Qn=n(2142),Hn=n(2143),zn=n(2128),Un=n(2125),Vn=n(2115),_n=n(58),Ln=n.n(_n),Gn=n(67),Yn=n.n(Gn),Jn=function(e){var t,n,i=e.questionText,a=e.choices,c=e.studentAnswer,o=e.markAsRight,s=void 0===o?function(){}:o,l=e.markAsWrong,r=void 0===l?function(){}:l,d=e.isMarked,u=e.questionMark,j=e.studentMark,h=null===a||void 0===a?void 0:a.find((function(e){return e.isCorrect})),b=function(e){var t;return{id:null===e||void 0===e?void 0:e.id,displayText:(null===e||void 0===e||null===(t=e.option)||void 0===t?void 0:t.value)||(null===e||void 0===e?void 0:e.value)}},v=u===j;return Object(m.jsx)(At,{hasNoDelete:!0,questionType:Mt.MCQ,children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded position-relative",sx:{minWidth:275},children:[c?Object(m.jsx)(Qn.a,{action:d?Object(m.jsxs)("div",{className:"me-3 d-flex shadow-sm p-2 border ".concat(v?"border-success":"border-danger"),children:[Object(m.jsx)(Te.a,{variant:"h5",color:v?"primary":"error",children:j.toFixed(2)}),Object(m.jsx)(Te.a,{variant:"h5",children:"/".concat(u.toFixed(2))})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(Ee.a,{onClick:r,size:"large",children:Object(m.jsx)(Yn.a,{fontSize:"large",color:"error"})}),Object(m.jsx)(Ee.a,{onClick:s,size:"large",children:Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})})]})}):null,Object(m.jsx)(Hn.a,{children:Object(m.jsx)(Te.a,{className:"m-3",variant:"h5",sx:{fontWeight:"bold"},children:i})}),Object(m.jsx)(Hn.a,{children:Object(m.jsx)("form",{children:Object(m.jsx)(zn.a,{children:Object(m.jsx)(Un.a,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:(null===(t=b(c))||void 0===t?void 0:t.id)||(null===(n=b(h))||void 0===n?void 0:n.id),name:"radio-buttons-group",children:null===a||void 0===a?void 0:a.map((function(e){return b(e).id===b(h).id?Object(m.jsxs)("div",{className:"d-flex align-items-center py-3 text-success",children:[Object(m.jsx)(un.a,{value:b(e).id,disabled:!0,control:Object(m.jsx)(Vn.a,{}),label:b(e).displayText},b(e).id),Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})]},e.id):Object(m.jsxs)("div",{className:"d-flex align-items-center py-3 text-danger",children:[Object(m.jsx)(un.a,{disabled:!0,value:b(e).id,control:Object(m.jsx)(Vn.a,{}),label:b(e).displayText},b(e).id),c&&b(c).id!==b(e).id?null:Object(m.jsx)(Yn.a,{fontSize:"large",color:"error"})]},e.id)}))})})})}),d?Object(m.jsx)("div",{className:"position-absolute opacity-25",style:{right:"10%",bottom:"18%"},children:v?Object(m.jsx)(Ln.a,{fontSize:"large",style:{transform:"scale(6)"},color:"success"}):Object(m.jsx)(Yn.a,{fontSize:"large",style:{transform:"scale(6)"},color:"error"})}):null]})})},Zn=function(e){var t=e.questionText,n=e.correctAnswer,i=e.studentAnswer,a=e.markAsRight,c=void 0===a?function(){}:a,o=e.markAsWrong,s=void 0===o?function(){}:o,l=e.isMarked,r=e.questionMark,d=e.studentMark,u=!(r/2>d);return Object(m.jsx)(At,{hasNoDelete:!0,questionType:Mt.ESSAY,children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded position-relative",sx:{minWidth:275},children:[i?Object(m.jsx)(Qn.a,{action:l?Object(m.jsxs)("div",{className:"me-3 d-flex shadow-sm p-2 border ".concat(u?"border-success":"border-danger"),children:[Object(m.jsx)(Te.a,{variant:"h5",color:u?"primary":"error",children:d.toFixed(2)}),Object(m.jsx)(Te.a,{variant:"h5",children:"/".concat(r.toFixed(2))})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(Ee.a,{onClick:s,size:"large",children:Object(m.jsx)(Yn.a,{fontSize:"large",color:"error"})}),Object(m.jsx)(Ee.a,{onClick:c,size:"large",children:Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})})]})}):null,Object(m.jsx)(Hn.a,{children:Object(m.jsx)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:t})}),Object(m.jsxs)(Hn.a,{className:"",children:[i?Object(m.jsx)(Te.a,{sx:{fontWeight:"bold"},style:{textDecoration:"underline"},children:"Student Answer:"}):null,Object(m.jsxs)(Te.a,{className:i?"":"m-4",variant:i?"":"h5",children:[i?null===i||void 0===i?void 0:i.value:null===n||void 0===n?void 0:n.value,i?null:Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})]})]}),i?Object(m.jsxs)(Hn.a,{className:"",children:[Object(m.jsx)(Te.a,{color:"green",sx:{fontWeight:"bold"},style:{textDecoration:"underline"},children:"Model Answer:"}),Object(m.jsx)(Te.a,{color:"green",children:null===n||void 0===n?void 0:n.value})]}):null,l?Object(m.jsx)("div",{className:"position-absolute opacity-25",style:{right:"10%",bottom:"25%"},children:u?Object(m.jsx)(Ln.a,{fontSize:"large",style:{transform:"scale(6)"},color:"success"}):Object(m.jsx)(Yn.a,{fontSize:"large",style:{transform:"scale(6)"},color:"error"})}):null]})})},$n=function(e){var t=e.questionText,n=e.correctAnswer,i=e.studentAnswer,a=e.markAsRight,c=void 0===a?function(){}:a,o=e.markAsWrong,s=void 0===o?function(){}:o,l=e.isMarked,r=e.questionMark,d=e.studentMark,u=r===d;return Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded position-relative",sx:{minWidth:275},children:[i?Object(m.jsx)(Qn.a,{action:l?Object(m.jsxs)("div",{className:"me-3 d-flex shadow-sm p-2 border ".concat(u?"border-success":"border-danger"),children:[Object(m.jsx)(Te.a,{variant:"h5",color:u?"primary":"error",children:d.toFixed(2)}),Object(m.jsx)(Te.a,{variant:"h5",children:"/".concat(r.toFixed(2))})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(Ee.a,{onClick:s,size:"large",children:Object(m.jsx)(Yn.a,{fontSize:"large",color:"error"})}),Object(m.jsx)(Ee.a,{onClick:c,size:"large",children:Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})})]})}):null,Object(m.jsx)(Hn.a,{children:Object(m.jsx)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:t})}),Object(m.jsxs)(Hn.a,{className:"",children:[i?Object(m.jsx)(Te.a,{sx:{fontWeight:"bold"},style:{textDecoration:"underline"},children:"Student Answer:"}):null,Object(m.jsxs)(Te.a,{className:i?"":"m-4",variant:i?"":"h5",children:[i?null===i||void 0===i?void 0:i.value:n,i?null:Object(m.jsx)(Ln.a,{fontSize:"large",color:"success"})]})]}),i?Object(m.jsxs)(Hn.a,{className:"",children:[Object(m.jsx)(Te.a,{color:"green",sx:{fontWeight:"bold"},style:{textDecoration:"underline"},children:"Model Answer:"}),Object(m.jsx)(Te.a,{color:"green",children:n})]}):null,l?Object(m.jsx)("div",{className:"position-absolute opacity-25",style:{right:"10%",bottom:"25%"},children:u?Object(m.jsx)(Ln.a,{fontSize:"large",style:{transform:"scale(6)"},color:"success"}):Object(m.jsx)(Yn.a,{fontSize:"large",style:{transform:"scale(6)"},color:"error"})}):null]})},Kn=function(e){var t=e.formula_questions,n=e.studentAnswer,i=e.markAsRight,a=void 0===i?function(){}:i,c=e.markAsWrong,o=void 0===c?function(){}:c,s=e.isMarked,l=e.questionMark,r=e.studentMark,d=(e.teacherMode,e.questionHeader);return Object(m.jsx)(At,{questionTitle:d,questionType:Mt.FORMULA,hasNoDelete:!0,children:null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)($n,{questionText:null===e||void 0===e?void 0:e.formulaText,correctAnswer:null===e||void 0===e?void 0:e.value,studentAnswer:n,markAsRight:a,markAsWrong:o,isMarked:s,questionMark:l,studentMark:r})}))})},Xn=function(e){var t=e.questions,n=(e.studentAnswer,e.markAsRight),i=void 0===n?function(){}:n,a=e.markAsWrong,c=void 0===a?function(){}:a,o=(e.isMarked,e.questionMark),s=(e.studentMark,e.teacherMode,e.questionHeader),l=o/(null===t||void 0===t?void 0:t.length);return Object(m.jsx)("div",{className:"shadow",children:Object(m.jsx)(Pt,{hasNoDelete:!0,questionTitle:s,questionsMarkup:null===t||void 0===t?void 0:t.map((function(e){var t,n,a,o,s,r,d,u,j,h,b,v,x;return(null===e||void 0===e?void 0:e.type)===Mt.MCQ?Object(m.jsx)("div",{className:"m-4",children:Object(m.jsx)(Jn,{markAsRight:function(){return i(null===e||void 0===e?void 0:e.id,l)},markAsWrong:function(){return c(null===e||void 0===e?void 0:e.id)},studentAnswer:(null===e||void 0===e?void 0:e.answers)?{id:null===e||void 0===e||null===(t=e.answers)||void 0===t?void 0:t.option_id,value:null===e||void 0===e||null===(n=e.answers)||void 0===n?void 0:n.studentAnswer}:null,questionText:null===e||void 0===e?void 0:e.questionText,choices:null===e||void 0===e?void 0:e.options,studentMark:null===e||void 0===e||null===(a=e.answers)||void 0===a?void 0:a.questionMark,questionMark:l,isMarked:null===e||void 0===e||null===(o=e.answers)||void 0===o?void 0:o.isMarked})},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.ESSAY?Object(m.jsx)("div",{className:"m-4",children:Object(m.jsx)(Zn,{markAsRight:function(){return i(null===e||void 0===e?void 0:e.id,l)},markAsWrong:function(){return c(null===e||void 0===e?void 0:e.id)},studentAnswer:(null===e||void 0===e?void 0:e.answers)?{id:null===e||void 0===e||null===(s=e.answers)||void 0===s?void 0:s.option_id,value:null===e||void 0===e||null===(r=e.answers)||void 0===r?void 0:r.studentAnswer}:null,questionText:null===e||void 0===e?void 0:e.questionText,studentMark:null===e||void 0===e||null===(d=e.answers)||void 0===d?void 0:d.questionMark,questionMark:l,isMarked:null===e||void 0===e||null===(u=e.answers)||void 0===u?void 0:u.isMarked,correctAnswer:null===e||void 0===e?void 0:e.options[0]})},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.FORMULA?Object(m.jsx)("div",{className:"m-4",children:Object(m.jsx)(Kn,{markAsRight:function(){return i(null===e||void 0===e?void 0:e.id,l)},markAsWrong:function(){return c(null===e||void 0===e?void 0:e.id)},studentAnswer:(null===e||void 0===e?void 0:e.answers)?{id:null===e||void 0===e||null===(j=e.answers)||void 0===j?void 0:j.option_id,value:null===e||void 0===e||null===(h=e.answers)||void 0===h?void 0:h.studentAnswer}:null,formula_questions:null===e||void 0===e?void 0:e.questions,teacherMode:!0,questionHeader:null===e||void 0===e?void 0:e.questionText,studentMark:null===e||void 0===e||null===(b=e.answers)||void 0===b?void 0:b.questionMark,questionMark:l,isMarked:null===e||void 0===e||null===(v=e.answers)||void 0===v?void 0:v.isMarked,correctAnswer:null===e||void 0===e||null===(x=e.formula_questions)||void 0===x?void 0:x.value})},null===e||void 0===e?void 0:e.id):void 0}))})})},ei=function(){var e=Object(x.useParams)().questionId,t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1];Object(i.useEffect)((function(){Dt.getQuestionDetails(e).then((function(e){c(null===e||void 0===e?void 0:e.question)})).catch((function(e){return he(e)}))}),[e]);return Object(m.jsx)("div",{className:"row justify-content-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:(null===a||void 0===a?void 0:a.type)===Mt.ESSAY?Object(m.jsx)(Zn,{questionText:null===a||void 0===a?void 0:a.questionText,correctAnswer:null===a||void 0===a?void 0:a.options[0]}):(null===a||void 0===a?void 0:a.type)===Mt.MCQ?Object(m.jsx)(Jn,{questionText:null===a||void 0===a?void 0:a.questionText,choices:null===a||void 0===a?void 0:a.options}):(null===a||void 0===a?void 0:a.type)===Mt.FORMULA?Object(m.jsx)(Kn,{formula_questions:null===a||void 0===a?void 0:a.formula_questions}):(null===a||void 0===a?void 0:a.type)===Mt.GROUP?Object(m.jsx)(Xn,{questions:null===a||void 0===a?void 0:a.questions,teacherMode:!0,questionHeader:null===a||void 0===a?void 0:a.questionText}):void 0})})},ti=n(2113),ni=n(2130),ii=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"getAllStudentsAnswers",value:function(e){return X.get("exams/".concat(e,"/all-answers"))}},{key:"getSpecificStudentAnswers",value:function(e,t){return X.get("exams/".concat(e,"/all-answers/answer"),{params:{student_id:t}})}},{key:"manualMark",value:function(e){var t=e.studentId,n=e.examId,i=e.questionId,a=e.questionMark;return X.post("exams/manual",{studentId:t,examId:n,questionId:i,questionMark:a})}},{key:"markAllAutomatic",value:function(e){return X.post("exams/mark/".concat(e))}},{key:"markSpecificStudentAutomatic",value:function(e,t){return X.post("exams/mark/".concat(e,"/").concat(t))}},{key:"getPlagiarismResults",value:function(e){return X.post("/plagiarism",{examId:e})}}]),e}(),ai=n(2154),ci=n(2155),oi=n(2156),si=n(2157),li=n(2106),ri=n(2105),di=n(2158),ui=n(263),ji=n.n(ui),mi=n(264),hi=n.n(mi),bi=n(265),vi=n.n(bi),xi=n(266),fi=n.n(xi),Oi=n(267),pi=n.n(Oi),gi=function(e){var t=e.examConfig,n=null===t||void 0===t?void 0:t.questionsRandomOrder,i=null===t||void 0===t?void 0:t.disableSwitchBrowser,a=null===t||void 0===t?void 0:t.plagiarismCheck,c=null===t||void 0===t?void 0:t.faceDetection,o=null===t||void 0===t?void 0:t.faceRecognition;return Object(m.jsxs)(ai.a,{position:"alternate",children:[Object(m.jsxs)(ci.a,{children:[Object(m.jsx)(ri.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",style:{textDecoration:n?"":"line-through red"},children:"Level1"}),Object(m.jsxs)(oi.a,{children:[Object(m.jsx)(si.a,{}),Object(m.jsx)(di.a,{color:n?"primary":"error",children:Object(m.jsx)(ji.a,{})}),Object(m.jsx)(si.a,{})]}),Object(m.jsx)(li.a,{sx:{py:"12px",px:2},children:Object(m.jsx)(Te.a,{style:{textDecoration:n?"":"line-through red"},variant:"h6",component:"span",children:"Random Order"})})]}),Object(m.jsxs)(ci.a,{children:[Object(m.jsx)(ri.a,{sx:{m:"auto 0"},variant:"body2",color:"text.secondary",style:{textDecoration:i?"":"line-through red"},children:"Level2"}),Object(m.jsxs)(oi.a,{children:[Object(m.jsx)(si.a,{}),Object(m.jsx)(di.a,{color:i?"primary":"error",children:Object(m.jsx)(hi.a,{})}),Object(m.jsx)(si.a,{})]}),Object(m.jsx)(li.a,{sx:{py:"12px",px:2},children:Object(m.jsx)(Te.a,{style:{textDecoration:i?"":"line-through red"},variant:"h6",component:"span",children:"Disable Switch Browser"})})]}),Object(m.jsxs)(ci.a,{children:[Object(m.jsx)(ri.a,{style:{textDecoration:a?"":"line-through red"},sx:{m:"auto 0"},variant:"body2",color:"text.secondary",children:"Level3"}),Object(m.jsxs)(oi.a,{children:[Object(m.jsx)(si.a,{}),Object(m.jsx)(di.a,{color:a?"primary":"error",children:Object(m.jsx)(vi.a,{})}),Object(m.jsx)(si.a,{})]}),Object(m.jsx)(li.a,{sx:{py:"12px",px:2},children:Object(m.jsx)(Te.a,{style:{textDecoration:a?"":"line-through red"},variant:"h6",component:"span",children:"Plagiarism Check"})})]}),Object(m.jsxs)(ci.a,{children:[Object(m.jsx)(ri.a,{style:{textDecoration:c?"":"line-through red"},sx:{m:"auto 0"},variant:"body2",color:"text.secondary",children:"Level4"}),Object(m.jsxs)(oi.a,{children:[Object(m.jsx)(si.a,{}),Object(m.jsx)(di.a,{color:c?"primary":"error",children:Object(m.jsx)(fi.a,{})}),Object(m.jsx)(si.a,{})]}),Object(m.jsx)(li.a,{sx:{py:"12px",px:2},children:Object(m.jsx)(Te.a,{style:{textDecoration:c?"":"line-through red"},variant:"h6",component:"span",children:"Face Detection"})})]}),Object(m.jsxs)(ci.a,{children:[Object(m.jsx)(ri.a,{style:{textDecoration:o?"":"line-through red"},sx:{m:"auto 0"},variant:"body2",color:"text.secondary",children:"Level5"}),Object(m.jsx)(oi.a,{children:Object(m.jsx)(di.a,{color:o?"primary":"error",children:Object(m.jsx)(pi.a,{})})}),Object(m.jsx)(li.a,{sx:{py:"12px",px:2},children:Object(m.jsx)(Te.a,{style:{textDecoration:o?"":"line-through red"},variant:"h6",component:"span",children:"Face Recognition"})})]})]})},yi=function(e){var t=e.questions,n=e.examConfigs;Object(x.useParams)().examId;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ne,{title:"Anti Cheating Levels",children:Object(m.jsx)(gi,{examConfig:n})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(Ne,{title:"Questions",children:Object(m.jsx)("div",{className:"p-5",children:null===t||void 0===t?void 0:t.map((function(e){return(null===e||void 0===e?void 0:e.type)===Mt.MCQ?Object(m.jsx)("div",{className:"m-4 mt-5",children:Object(m.jsx)(Jn,{questionText:null===e||void 0===e?void 0:e.questionText,choices:null===e||void 0===e?void 0:e.options})},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.ESSAY?Object(m.jsx)("div",{className:"m-4 mt-5",children:Object(m.jsx)(Zn,{questionText:null===e||void 0===e?void 0:e.questionText,correctAnswer:null===e||void 0===e?void 0:e.options[0]})},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.FORMULA?Object(m.jsx)("div",{className:"m-4 mt-5",children:Object(m.jsx)(Kn,{formula_questions:null===e||void 0===e?void 0:e.questions,teacherMode:!0,questionHeader:null===e||void 0===e?void 0:e.questionText})},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.GROUP?Object(m.jsx)("div",{className:"m-4 mt-5",children:Object(m.jsx)(Xn,{questions:null===e||void 0===e?void 0:e.questions,teacherMode:!0,questionHeader:null===e||void 0===e?void 0:e.questionText})},null===e||void 0===e?void 0:e.id):null}))})})]})},Ni=n(2129),wi=n(2118),ki=n(2107),Si=n(2144),qi=n(2108),Ci=n(2122),Ai=n(2126),Ti=n(268),Ei=n.n(Ti),Mi=function(){return function(e){return(null===e||void 0===e?void 0:e.includes("http"))?e:"https://smart-exam.s3.eu-central-1.amazonaws.com/uploads/"+e}},Ii=function(e){var t=e.students,n=e.getStudentExams,i=void 0===n?function(){}:n,a=e.examConfigs,c=Mi(),o=Object(x.useHistory)(),s=Object(x.useLocation)(),l=Object(x.useParams)();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsxs)(Ci.a,{onClick:function(){ii.markAllAutomatic(null===l||void 0===l?void 0:l.examId).then((function(e){be("Mark All Student Successfully!"),i()})).catch((function(e){return he(e)}))},color:"success",variant:"contained",children:["Mark All ",Object(m.jsx)(Ei.a,{})]})}),Object(m.jsx)(Lt.a,{className:"mt-3",elevation:3,children:Object(m.jsxs)(Ni.a,{children:[null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(wi.a,{onClick:function(){return t=e.student_id,void o.push("".concat(s.pathname,"/").concat(t),{examConfigs:a});var t},children:Object(m.jsxs)(ki.a,{children:[Object(m.jsx)(Si.a,{children:Object(m.jsx)(Ai.a,{alt:e.name,src:c(null===e||void 0===e?void 0:e.image)})}),Object(m.jsx)(qi.a,{primaryTypographyProps:(null===e||void 0===e?void 0:e.isMarked)?{color:Nt,fontWeight:"bolder"}:{},primary:"".concat(e.name),secondary:(null===e||void 0===e?void 0:e.isMarked)&&"Mark: ".concat(e.mark)})]})},"".concat(e.student_id,"_").concat(e.attempt))})),(null===t||void 0===t?void 0:t.length)?null:Object(m.jsx)(sn,{text:"No submittion yet"})]})})]})},Fi="FACE_DETECTION",Pi="FACE_RECOGNITION",Di="SWITCH_BROWSER",Ri=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"sentSwitchBrowserCheatAttempt",value:function(e){return X.post("/cheater",{examId:e,type:Di})}},{key:"sentFaceDetectionCheatAttempt",value:function(e,t){return X.post("/cheater",{examId:e,image:t,type:Fi})}},{key:"sentFaceRecognationCheatAttempt",value:function(e,t){return X.post("/cheater",{examId:e,image:t,type:Pi})}},{key:"getCheaters",value:function(e){return X.get("/exams/".concat(e,"/cheaters"))}},{key:"performStudentDecrement",value:function(e){return X.post("/cheater/action",e)}}]),e}(),Bi=(n.p,n.p,"DISMISS"),Wi="MINUS",Qi="ZERO",Hi=function(){var e=Object(i.useState)([]),t=Object(L.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(0),o=Object(L.a)(c,2),s=o[0],l=o[1],r=Object(x.useParams)();Object(i.useEffect)((function(){Ri.getCheaters(null===r||void 0===r?void 0:r.examId).then((function(e){a(null===e||void 0===e?void 0:e.details)})).catch((function(e){he(e)}))}),[]);var d=function(e,t){t!==Bi&&t!==Qi||l(0);var n={cheatingDetailId:null===e||void 0===e?void 0:e.id,action:t,minusMarks:s,type:null===e||void 0===e?void 0:e.type};Ri.performStudentDecrement(n).then((function(e){be("\u0650Action Performed Successfully")})).catch((function(e){he(e)}))},u=Mi();return Object(m.jsxs)("div",{children:[Object(m.jsx)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:"Suspicious Cheaters"}),Object(m.jsx)("hr",{}),function(){var e=Object(oe.a)(new Map(n.map((function(e){return[e.student_id,e]}))).values());return e.forEach((function(e){var t=0;n.forEach((function(n){(null===n||void 0===n?void 0:n.type)===(null===e||void 0===e?void 0:e.type)&&t++})),e.typeCounter=t})),null===e||void 0===e?void 0:e.map((function(e){return Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded position-relative",sx:{minWidth:275},children:[Object(m.jsxs)("div",{className:"d-flex col-8 justify-content-start",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{style:{width:200},src:"".concat(u(null===e||void 0===e?void 0:e.profileImage)),alt:"User",loading:"lazy"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:["Name: ",null===e||void 0===e?void 0:e.studentName]}),Object(m.jsxs)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:["Type: ",null===e||void 0===e?void 0:e.type," ",(null===e||void 0===e?void 0:e.type)===Di?"("+(null===e||void 0===e?void 0:e.typeCounter)+" times)":""]}),Object(m.jsx)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:(null===e||void 0===e?void 0:e.type)!==Di?"Original Profile Photo ":""})]})]}),Object(m.jsx)("div",{className:"m-4"}),(null===e||void 0===e?void 0:e.type)!==Di&&Object(m.jsxs)("div",{className:"d-flex col-8 align-items-center",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{style:{width:200},src:"".concat(u(null===e||void 0===e?void 0:e.image)),alt:"no_photo",loading:"lazy"})}),Object(m.jsx)("div",{children:Object(m.jsx)(Te.a,{className:"m-3 font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:"Suspect image (from his webcam)"})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(Te.a,{className:" text-danger font-weight-bold",variant:"h5",sx:{fontWeight:"bold"},children:"Perform Action To This Student (Be Careful..!)"}),Object(m.jsx)(Te.a,{className:" text-danger font-weight-bold",variant:"h6",children:"You can either dismiss this issue, decrease his mark, or Revoke the exam (Mark As Zero)"}),Object(m.jsx)("div",{className:"m-5"}),Object(m.jsxs)("div",{className:"d-flex m-3 justify-content-between",children:[Object(m.jsx)(Ci.a,{variant:"contained",color:"success",onClick:function(){d(e,Bi)},children:"Dismiss This Issue"}),Object(m.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(m.jsx)(xe.a,{error:!0,id:"outlined-error",label:"Decrement Value. eg: 6",onChange:function(e){return l(e.target.value)}}),Object(m.jsx)("div",{className:"m-2"}),Object(m.jsx)(Ci.a,{variant:"contained",color:"error",onClick:function(){d(e,Wi)},children:"Confirm Decrease"})]}),Object(m.jsx)(Ci.a,{variant:"contained",color:"error",onClick:function(){d(e,Qi)},children:"Revoke Exam (Put Zero)"})]})]})}))}()]})},zi=(n(2038),function(){return Object(m.jsxs)("div",{className:"lds-roller",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})}),Ui=function(e){var t=e.examId,n=Object(i.useState)(!1),a=Object(L.a)(n,2),c=a[0],o=a[1],s={style:{height:"80vh"},className:"w-100"};return Object(m.jsxs)("div",{children:[c?null:Object(m.jsx)("div",Object(N.a)(Object(N.a)({},s),{},{children:Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(zi,{})})})),Object(m.jsx)("iframe",Object(N.a)(Object(N.a)({onLoad:function(){return o(!0)}},s),{},{src:"https://api.smart-exam.ml/statistics/".concat(t)}))]})},Vi=Object(Fe.a)(Ht.a)((function(e){var t,n=e.theme;return t={},Object(Bt.a)(t,"&.".concat(zt.a.head),{backgroundColor:Ot,color:n.palette.common.white,fontWeight:700}),Object(Bt.a)(t,"&.".concat(zt.a.body),{fontSize:16}),Object(Bt.a)(t,"&.".concat(zt.a.body,":first-of-type"),{fontWeight:700}),t})),_i=Object(Fe.a)(_t.a)((function(e){return{"&:hover":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),Li=function(e){var t=e.examId,n=function(e){if(null===e||void 0===e?void 0:e.length){var t=e[0];return e.forEach((function(e){e.similarity>t.similarity&&(t=e)})),Object(N.a)({},t)}},a=Object(i.useState)(null),c=Object(L.a)(a,2),o=c[0],s=c[1];Object(i.useEffect)((function(){ii.getPlagiarismResults(t).then((function(e){var t,i=null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{similarStudents:n(e.similarStudents)})}));s(i),console.log(i)})).catch((function(e){return he(e)}))}),[]);var l=Object(x.useHistory)(),r=Object(x.useLocation)(),d=function(e){l.push("".concat(r.pathname,"/").concat(e))};return Object(m.jsx)(Ut.a,{className:"mt-5",component:Lt.a,children:Object(m.jsxs)(Wt.a,{sx:{minWidth:700},"aria-label":"customized table",children:[Object(m.jsx)(Vt.a,{children:Object(m.jsxs)(_t.a,{children:[Object(m.jsx)(Vi,{children:"Student Name"}),Object(m.jsx)(Vi,{align:"right",children:"Most Similar Colleague"}),Object(m.jsx)(Vi,{align:"right",children:"Percentage of similarity (%)"})]})}),Object(m.jsx)(Qt.a,{children:null===o||void 0===o?void 0:o.map((function(e){var t,n;return Object(m.jsxs)(_i,{children:[Object(m.jsx)(Vi,{onClick:function(){return d(e.id)},className:"text-dark pointer",component:"th",scope:"row",children:e.name}),Object(m.jsx)(Vi,{onClick:function(){var t;return d(null===(t=e.similarStudents)||void 0===t?void 0:t.id)},className:"text-dark pointer",align:"right",children:null===(t=e.similarStudents)||void 0===t?void 0:t.name}),Object(m.jsxs)(Vi,{className:"text-danger",align:"right",children:[(100*(null===(n=e.similarStudents)||void 0===n?void 0:n.similarity)).toFixed(2)," %"]})]},e.id)}))})]})})},Gi=function(){var e,t=Object(_.useHistory)(),n=Object(x.useLocation)(),c=a.a.useState(null),o=Object(L.a)(c,2),s=o[0],l=o[1],r=Object(x.useParams)(),d=Object(i.useState)(null),u=Object(L.a)(d,2),j=u[0],h=u[1];Object(i.useEffect)((function(){Ge.getExamQuestions(r.examId).then((function(e){h(e.questions)})).catch((function(e){return he(e)}))}),[]);var b=Object(i.useState)(null),v=Object(L.a)(b,2),f=v[0],O=v[1],p=function(){ii.getAllStudentsAnswers(r.examId).then((function(e){O(e.solvedExams)})).catch((function(e){return he(e)}))};Object(i.useEffect)((function(){p()}),[]);var g=Object(x.useParams)().examId,y=Object(i.useState)(null),N=Object(L.a)(y,2),w=N[0],k=N[1];return Object(i.useEffect)((function(){Ge.getExamConfig(g).then((function(e){k(e.configuration)})).catch((function(e){return he(e)}))}),[]),Object(i.useEffect)((function(){if(w){var e=new URLSearchParams(n.search).get("selectedTab");l(e||"Overview")}}),[null===(e=n.search)||void 0===e?void 0:e.selectedTab,w]),s&&Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-12 mt-5",children:Object(m.jsx)(tt.a,{sx:{width:"100%"},children:Object(m.jsxs)(ti.a,{value:s,onChange:function(e,i){l(i),t.push({pathname:n.pathname,search:"?selectedTab=".concat(i)})},textColor:"primary",indicatorColor:"primary","aria-label":"secondary tabs example",children:[Object(m.jsx)(ni.a,{value:"Overview",label:"Overview"}),Object(m.jsx)(ni.a,{value:"StudentAnswers",label:"Student Answers"}),Object(m.jsx)(ni.a,{value:"ExamReport",label:"Exam Report"}),Object(m.jsx)(ni.a,{value:"Statistics",label:"Statistics"}),(null===w||void 0===w?void 0:w.plagiarismCheck)&&Object(m.jsx)(ni.a,{value:"Plagiarism",label:"Plagiarism Check"})]})})})}),Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsxs)("div",{className:"col-12 mt-5",children:["Overview"===s&&Object(m.jsx)(yi,{questions:j,examConfigs:w}),"StudentAnswers"===s&&Object(m.jsx)(Ii,{students:f,getStudentExams:p,examConfigs:w}),"ExamReport"===s&&Object(m.jsx)(Hi,{}),"Statistics"===s&&Object(m.jsx)(Ui,{examId:g}),"Plagiarism"===s&&Object(m.jsx)(Li,{examId:g})]})})]})},Yi=n(269),Ji=n.n(Yi),Zi=n(270),$i=n.n(Zi),Ki=function(e){var t=e.name,n=e.isVerified,i=e.numberOfFaces,a=e.image,c=e.markAutoFun,o=e.examConfigs,s=Mi();return Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-md-6 col-12",children:Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("img",{className:"shadow-sm",src:s(a),style:{height:200,width:200,objectFit:"cover",borderRadius:15},alt:"student Photo"}),Object(m.jsxs)("div",{className:"ms-3",children:[Object(m.jsx)(Te.a,{variant:"h4",fontWeight:"bold",color:"primary",children:t}),(null===o||void 0===o?void 0:o.faceDetection)?Object(m.jsx)(Jt.a,{icon:Object(m.jsx)(Ji.a,{}),color:1===i?"success":"error",label:"".concat(i," face detected"),className:"me-2"}):null,(null===o||void 0===o?void 0:o.faceRecognition)?Object(m.jsx)(Jt.a,{icon:Object(m.jsx)($i.a,{}),color:n?"success":"error",label:n?"Verified":"Unverified"}):null]})]})}),Object(m.jsx)("div",{className:"col-md-6 col-12 mt-md-0 mt-5 text-md-end text-center",children:Object(m.jsx)(Ci.a,{onClick:c,variant:"contained",color:"success",children:"Mark Automatic"})})]})},Xi=[{path:"/exams",component:dn,exact:!0},{path:"/exams/add",component:Xe,exact:!0},{path:"/exams/edit",component:Xe,exact:!0},{path:"/exams/:examId/set-options",component:gn,exact:!0},{path:"/exams/:examId/add-questions",component:Rt,exact:!0},{path:"/questions",component:pn,exact:!0},{path:"/questions/add",component:Bn,exact:!0},{path:"/questions/edit",component:Bn,exact:!0},{path:"/questions/:questionId",component:ei,exact:!0},{path:"/exams/:examId",component:Gi,exact:!0},{path:"/exams/:examId/:studentId",component:function(){var e,t,n=Object(x.useParams)(),a=Object(x.useHistory)(),c=Object(x.useLocation)(),o=null===c||void 0===c||null===(e=c.state)||void 0===e?void 0:e.examConfigs,s=Object(i.useState)(null),l=Object(L.a)(s,2),r=l[0],d=l[1],u=function(e,t){ii.manualMark({examId:null===n||void 0===n?void 0:n.examId,studentId:null===n||void 0===n?void 0:n.studentId,questionId:e,questionMark:t}).then((function(e){h()})).catch((function(e){return he(e)}))},j=function(e){ii.manualMark({examId:null===n||void 0===n?void 0:n.examId,studentId:null===n||void 0===n?void 0:n.studentId,questionId:e,questionMark:0}).then((function(e){h()})).catch((function(e){return he(e)}))},h=function(){ii.getSpecificStudentAnswers(null===n||void 0===n?void 0:n.examId,null===n||void 0===n?void 0:n.studentId).then((function(e){d(e)})).catch((function(e){return he(e)}))};return Object(i.useEffect)((function(){h()}),[]),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(Ki,{name:null===r||void 0===r?void 0:r.studentName,isVerified:null===r||void 0===r?void 0:r.isVerified,numberOfFaces:null===r||void 0===r?void 0:r.numberOfFaces,image:null===r||void 0===r?void 0:r.image,markAutoFun:function(){ii.markSpecificStudentAutomatic(null===n||void 0===n?void 0:n.examId,null===n||void 0===n?void 0:n.studentId).then((function(e){be("Mark ".concat(r.studentName,"'s exam successfully!")),a.goBack()})).catch((function(e){return he(e)}))},examConfigs:o}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)(m.Fragment,{children:null===r||void 0===r||null===(t=r.solution)||void 0===t?void 0:t.map((function(e){var t,n,i,a,c,o,s,l,r,d,h,b,v,x,f,O,p;return Object(m.jsxs)("div",{className:"my-5",children:[(null===e||void 0===e?void 0:e.type)===Mt.MCQ?Object(m.jsx)(Jn,{markAsRight:function(){var t;return u(null===e||void 0===e?void 0:e.id,null===e||void 0===e||null===(t=e.pivot)||void 0===t?void 0:t.mark)},markAsWrong:function(){return j(null===e||void 0===e?void 0:e.id)},studentAnswer:{id:null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.option_id,value:null===e||void 0===e||null===(n=e.answer)||void 0===n?void 0:n.studentAnswer},questionText:null===e||void 0===e?void 0:e.questionText,choices:null===e||void 0===e?void 0:e.options,studentMark:null===e||void 0===e||null===(i=e.answer)||void 0===i?void 0:i.questionMark,questionMark:null===e||void 0===e||null===(a=e.pivot)||void 0===a?void 0:a.mark,isMarked:null===e||void 0===e||null===(c=e.answer)||void 0===c?void 0:c.isMarked}):null,(null===e||void 0===e?void 0:e.type)===Mt.ESSAY?Object(m.jsx)(Zn,{markAsRight:function(){var t;return u(null===e||void 0===e?void 0:e.id,null===e||void 0===e||null===(t=e.pivot)||void 0===t?void 0:t.mark)},markAsWrong:function(){return j(null===e||void 0===e?void 0:e.id)},studentAnswer:{id:null===e||void 0===e||null===(o=e.answer)||void 0===o?void 0:o.option_id,value:null===e||void 0===e||null===(s=e.answer)||void 0===s?void 0:s.studentAnswer},questionText:null===e||void 0===e?void 0:e.questionText,studentMark:null===e||void 0===e||null===(l=e.answer)||void 0===l?void 0:l.questionMark,questionMark:null===e||void 0===e||null===(r=e.pivot)||void 0===r?void 0:r.mark,isMarked:null===e||void 0===e||null===(d=e.answer)||void 0===d?void 0:d.isMarked,correctAnswer:null===e||void 0===e?void 0:e.options[0]}):null,(null===e||void 0===e?void 0:e.type)===Mt.FORMULA?Object(m.jsx)(Kn,{markAsRight:function(){var t;return u(null===e||void 0===e?void 0:e.id,null===e||void 0===e||null===(t=e.pivot)||void 0===t?void 0:t.mark)},markAsWrong:function(){return j(null===e||void 0===e?void 0:e.id)},studentAnswer:{id:null===e||void 0===e||null===(h=e.answer)||void 0===h?void 0:h.option_id,value:null===e||void 0===e||null===(b=e.answer)||void 0===b?void 0:b.studentAnswer},formula_questions:[null===e||void 0===e?void 0:e.formula_questions],studentMark:null===e||void 0===e||null===(v=e.answer)||void 0===v?void 0:v.questionMark,questionMark:null===e||void 0===e||null===(x=e.pivot)||void 0===x?void 0:x.mark,isMarked:null===e||void 0===e||null===(f=e.answer)||void 0===f?void 0:f.isMarked,correctAnswer:null===e||void 0===e||null===(O=e.formula_questions)||void 0===O?void 0:O.value}):null,(null===e||void 0===e?void 0:e.type)===Mt.GROUP?Object(m.jsx)(Xn,{questions:null===e||void 0===e?void 0:e.questions,markAsRight:u,markAsWrong:j,questionMark:null===e||void 0===e||null===(p=e.pivot)||void 0===p?void 0:p.mark}):null]},e.id)}))})})})]})},exact:!0}],ea=(n(2039),n.p,n(273)),ta={color:Ot},na=Object(ea.a)({shape:{borderRadius:20}}),ia=Object(Fe.a)(Ci.a)((function(e){e.theme;return{borderRadius:20,backgroundColor:Ot,"&:hover":{backgroundColor:pt}}})),aa=function(){var e=Object(s.d)((function(e){return e.auth.userToken})),t=Object(s.d)((function(e){return e.auth.userType})),n=Object(x.useHistory)();return Object(m.jsxs)("div",{className:"main text-center",style:{minHeight:"80vh"},children:[Object(m.jsx)("div",{className:"p-3"}),Object(m.jsx)(Te.a,{variant:"h3",component:"div",className:"m-4 slide",style:ta,children:"Welcome to Smart Exam"}),Object(m.jsx)(Te.a,{variant:"h5",component:"div",className:"m-4 slide",style:ta,children:"A free educational platform where you can create secure, reliable, cheating-free exams"}),Object(m.jsxs)("div",{className:"image slide",children:[Object(m.jsx)("div",{className:"p-5"}),Object(m.jsx)("div",{className:"p-5"}),Object(m.jsxs)("div",{className:"textbox",children:[Object(m.jsxs)("div",{className:" mb-3 p-3",children:[Object(m.jsx)(Te.a,{variant:"h5",component:"div",className:"slide",style:{color:gt},children:"We offer an easy, smart system that provides"}),Object(m.jsx)(Te.a,{variant:"h5",component:"div",className:"slide",style:{color:gt},children:"Anti-Cheating techniques to ensure online exam as secure as offline exam."})]}),Object(m.jsxs)("div",{className:" ",children:[Object(m.jsx)(Te.a,{variant:"h6",component:"div",className:"slide",style:{color:gt},children:"You can monitor your student behaviours within a click."}),Object(m.jsx)(Te.a,{variant:"h6",component:"div",className:"slide ",style:{color:gt},children:"Online Exams Made Easy, Start Now"})]}),e?Object(m.jsx)(ia,{className:"m-3",variant:"contained",onClick:function(){n.push("/profile/"+t)},size:"large",theme:na,color:"success",children:"Your Profile"}):Object(m.jsx)(ia,{className:"m-3",variant:"contained",onClick:function(){n.push("/login")},size:"large",theme:na,color:"success",children:"Get Started"})]})]})]})},ca=[{path:"/",component:aa,exact:!0}],oa=n(2145),sa=n(271),la=(n(2040),n(160)),ra=n.n(la),da=function(e){var t=Object(i.useRef)(null),n=Object(i.useCallback)((function(){var n=t.current.getScreenshot();e.captured(n),e.clicked()}),[t,e]);return Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(ra.a,{audio:!1,ref:t,screenshotFormat:"image/jpeg"})}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(Ci.a,{className:"btn m-2 p-2 text-white",size:"small",variant:"contained",color:"success",onClick:n,children:"Capture"})})]})},ua=Object(_.withRouter)((function(e){var t=e.location.state.exam,n=Object(i.useState)(!1),a=Object(L.a)(n,2),c=a[0],o=a[1],s=Object(i.useState)(!1),l=Object(L.a)(s,2),r=l[0],d=l[1],u=Object(i.useState)(0),j=Object(L.a)(u,2),h=j[0],b=j[1],v=Object(i.useState)(!1),f=Object(L.a)(v,2),O=f[0],p=f[1],g=Object(x.useParams)().examId,y=Object(i.useState)(null),N=Object(L.a)(y,2),w=N[0],k=N[1];Object(i.useEffect)((function(){Ge.getExamConfig(g).then((function(e){k(e.configuration)})).catch((function(e){return he(e)}))}),[]);var S=Object(i.useState)(null),q=Object(L.a)(S,2),C=q[0],A=q[1];Object(i.useEffect)((function(){Ge.getExamInfo(g).then((function(e){A(e.exam.startAt)})).catch((function(e){return he(e)}))}),[]);var T=function(e){o(!0),d(!0),be("Photo Taken Successfully");var n={image:e,examId:t.id},i={image1:e,examId:t.id};Ge.applyFaceDetection(n).then((function(e){return b(e.numberOfFaces),1!==e.numberOfFaces?{verified:!1}:Ge.applyFaceVerification(i)})).then((function(e){p(e.verified)})).finally((function(){o(!1)}))},E=(null===w||void 0===w?void 0:w.faceRecognition)||(null===w||void 0===w?void 0:w.faceDetection),M=C&&Ze()(C).isBefore(Ze()());return w&&C?Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Before The Exam",children:Object(m.jsx)("div",{className:"m-5 text-start ",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(Te.a,{className:"text-danger font-weight-bold",variant:"h4",component:"div",children:["Important Instructions",Object(m.jsx)("hr",{})]}),Object(m.jsxs)("ul",{children:[E?Object(m.jsx)("li",{className:"text-danger font-weight-bold",children:"Verify your identity with a photo before entering the exam."}):null,Object(m.jsx)("li",{children:"Don't use internet for getting information."}),Object(m.jsx)("li",{children:"No one else can be in the room with you."}),Object(m.jsx)("li",{children:"Time is limited, so organize your time well with questions."}),Object(m.jsx)("li",{children:"The room must be well-lit and you must be clearly visible."})]}),Object(m.jsx)("div",{className:"text-center"}),Object(m.jsx)("div",{className:"text-center text-success",children:"Good Luck with your exam!"})]}),Object(m.jsx)(oa.a,{className:"d-flex m-2 justify-content-end",children:c?Object(m.jsxs)("div",{className:"me-4 d-flex flex-column align-items-center",children:[Object(m.jsx)(Te.a,{color:"primary",children:"Verifing...!"}),Object(m.jsx)(zi,{})]}):Object(m.jsxs)(m.Fragment,{children:[E?Object(m.jsx)(sa.a,{trigger:Object(m.jsx)(Ci.a,{className:"btn m-2 p-2 text-white",size:"large",variant:"contained",color:"warning",children:"Take Photo"}),modal:!0,lockScroll:!0,position:"top center",children:function(e){return Object(m.jsxs)(Ne,{title:"Take a nice photo",children:[Object(m.jsx)("h4",{className:"d-flex justify-content-center",children:"Make sure the place is well lit!"}),Object(m.jsx)(da,{captured:T,clicked:e})]})}}):null,Object(m.jsx)(Ci.a,{className:"btn m-2 p-2 text-white",size:"small",variant:"contained",color:"success",onClick:function(n){n.preventDefault();var i={startTime:Ze()().format("yyyy-MM-DD HH:mm:ss"),numberOfFaces:h,isVerified:O};Ge.startExam(t.id,i).then((function(n){e.history.push({pathname:"/exams/".concat(t.id,"/start"),state:{exam:t}})})).catch((function(n){var i;(null===n||void 0===n||null===(i=n.message)||void 0===i?void 0:i.includes("You must submit the previous attempt first before starting a new attempt"))?e.history.push({pathname:"/exams/".concat(t.id,"/start"),state:{exam:t}}):he(n)}))},disabled:E&&!r||!M,children:"Start Exam Now ".concat(M?"":"(Not Started)")})]})})]})})})})})}):Object(m.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"70vh"},children:Object(m.jsx)(zi,{})})})),ja=n(2121),ma=n(115),ha=n.n(ma),ba=function(){var e=Object(x.useHistory)(),t=Object(x.useLocation)(),n=Object(i.useState)(null),a=Object(L.a)(n,2),c=a[0],o=a[1];Object(i.useEffect)((function(){Ge.getAllPublishedExams({isMarked:!0}).then((function(e){o(e)})).catch((function(e){return he(e)}))}),[]);return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Marked Exams",children:Object(m.jsx)("div",{className:"m-5 text-start ",children:null===c||void 0===c?void 0:c.map((function(n){var i,a,c,o;return Object(m.jsxs)(Wn.a,{onClick:function(){return i=n.id,void e.push("".concat(t.pathname,"/").concat(i));var i},className:"shadow p-3 mb-5 bg-white rounded",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(ja.a,{display:"flex",justifyContent:"space-between",direction:"row",children:[Object(m.jsxs)(ja.a,{children:[Object(m.jsx)(Te.a,{variant:"h4",component:"div",children:n.name}),n.isSubmitted&&Object(m.jsx)(Jt.a,{variant:"filled",color:"success",label:"Submitted",size:"small",className:"mx-1",icon:Object(m.jsx)(ha.a,{})}),n.isMarked&&Object(m.jsx)(Jt.a,{variant:"filled",color:"success",label:"Marked",size:"small",className:"mx-1",icon:Object(m.jsx)(ha.a,{})})]}),Object(m.jsxs)(ja.a,{className:(c=null===(i=n.mark)||void 0===i?void 0:i.totalMark,o=n.totalMark,c<o/2?"text-danger":"text-success"),display:"flex",direction:"row",children:[Object(m.jsx)(Te.a,{variant:"h5",children:null===(a=n.mark)||void 0===a?void 0:a.totalMark}),Object(m.jsx)(Te.a,{variant:"h5",children:"/".concat(n.totalMark)})]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(Te.a,{variant:"body3",children:n.description})]}),Object(m.jsxs)(oa.a,{className:"d-flex m-2 justify-content-between",children:[Object(m.jsxs)(ja.a,{display:"flex",alignItems:"center",direction:"row",children:[Object(m.jsx)(Te.a,{fontWeight:"bold",color:"secondary",children:"Due:"}),Object(m.jsx)(Te.a,{className:"mx-1",children:Ze()(n.endAt).format("yyyy/MM/DD hh:mm A")})]}),Object(m.jsxs)(ja.a,{display:"flex",alignItems:"center",direction:"row",children:[Object(m.jsx)(Te.a,{fontWeight:"bold",color:"secondary",children:"Duration:"}),Object(m.jsx)(Te.a,{className:"mx-1",children:n.duration})]})]})]},n.id)}))})})})})},va={register:{url:"".concat($,"/students/register"),method:"POST"},getMyProfile:{url:"".concat($,"/students/me"),method:"GET"}},xa=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"register",value:function(e){return ge.fetch(va.register.url,{body:JSON.stringify(e),method:va.register.method})}},{key:"getMyProfile",value:function(){return ge.fetch(va.getMyProfile.url,{method:va.getMyProfile.method},!0)}},{key:"getSpecificExamResults",value:function(e){return X.get("/exams/".concat(e,"/report"))}}]),e}(),fa=function(){var e=Object(x.useParams)().examId,t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){xa.getSpecificExamResults(e).then((function(e){c(e.solution)})).catch((function(e){return he(e)}))}),[]),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row mt-5",children:Object(m.jsx)("div",{className:"col-12",children:null===a||void 0===a?void 0:a.map((function(e){var t,n,i,a,c,o;return Object(m.jsxs)("div",{className:"my-2",children:[(null===e||void 0===e||null===(t=e.question)||void 0===t?void 0:t.type)===Mt.MCQ?Object(m.jsx)(Jn,{studentAnswer:{id:null===e||void 0===e?void 0:e.option_id,value:null===e||void 0===e?void 0:e.studentAnswer},questionText:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.questionText,studentMark:null===e||void 0===e?void 0:e.questionMark,questionMark:null===e||void 0===e?void 0:e.totalQuestionMark,isMarked:null===e||void 0===e?void 0:e.isMarked,choices:null===e||void 0===e||null===(i=e.question)||void 0===i?void 0:i.answers}):null,(null===e||void 0===e||null===(a=e.question)||void 0===a?void 0:a.type)===Mt.ESSAY?Object(m.jsx)(Zn,{studentAnswer:{id:null===e||void 0===e?void 0:e.option_id,value:null===e||void 0===e?void 0:e.studentAnswer},questionText:null===e||void 0===e||null===(c=e.question)||void 0===c?void 0:c.questionText,studentMark:null===e||void 0===e?void 0:e.questionMark,questionMark:null===e||void 0===e?void 0:e.totalQuestionMark,isMarked:null===e||void 0===e?void 0:e.isMarked,correctAnswer:null===e||void 0===e||null===(o=e.question)||void 0===o?void 0:o.answers[0]}):null]},e.question_id)}))})})})},Oa=Object(_.withRouter)((function(e){var t=Object(i.useState)(null),n=Object(L.a)(t,2),a=n[0],c=n[1];Object(i.useEffect)((function(){Ge.getAllPublishedExams().then((function(e){c(e)})).catch((function(e){return he(e)}))}),[]);var o=function(e){var t=Ze()(e).diff(Ze()(),"hours"),n=Ze()(e).diff(Ze()().add(t,"hours"),"minutes");return t>0||n>0?{hours:t,mins:n}:null};return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:"Your Exams",children:Object(m.jsxs)("div",{className:"m-5 text-start ",children:[null===a||void 0===a?void 0:a.map((function(t){return Object(m.jsxs)(Wn.a,{style:{border:t.isSubmitted?"1px solid ".concat(Nt):""},className:"shadow p-2 pb-0 mb-3 bg-white rounded",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsx)(Te.a,{variant:"h4",component:"div",children:t.name}),t.isSubmitted&&Object(m.jsx)(Jt.a,{variant:"filled",color:"success",label:"Submitted",size:"small",className:"mx-1",icon:Object(m.jsx)(ha.a,{})}),t.isMarked&&Object(m.jsx)(Jt.a,{variant:"filled",color:"success",label:"Marked",size:"small",className:"mx-1",icon:Object(m.jsx)(ha.a,{})}),Object(m.jsx)("hr",{}),Object(m.jsx)(Te.a,{variant:"body3",children:t.description})]}),Object(m.jsxs)(oa.a,{className:"d-flex m-2 justify-content-between",children:[Object(m.jsxs)(ja.a,{display:"flex",alignItems:"center",direction:"row",children:[Object(m.jsx)(Te.a,{fontWeight:"bold",children:"Due:"}),Object(m.jsx)(Te.a,{className:"mx-1",children:Ze()(t.endAt).format("yyyy/MM/DD hh:mm A")})]}),Object(m.jsxs)(Te.a,{variant:"body3",children:[Object(m.jsx)("b",{children:"Duration:"})," ",t.duration]}),Object(m.jsx)(Ci.a,{className:"btn m-2 p-2 btn-primary text-white",size:"small",onClick:function(n){return function(t,n){e.history.push({pathname:"/exams/".concat(n.id),state:{exam:n}})}(0,t)},children:"Go to this Exam"})]}),o(t.endAt)?Object(m.jsx)(oa.a,{className:"d-flex justify-content-center",children:Object(m.jsxs)(ja.a,{display:"flex",alignItems:"center",direction:"row",children:[Object(m.jsx)(Te.a,{fontWeight:"bold",children:"Close in:"}),Object(m.jsx)(Te.a,{className:"mx-1",fontStyle:"italic",color:o(t.endAt).hours>24?Nt:yt,children:"[".concat(o(t.endAt).hours," h ").concat(o(t.endAt).mins," m]")})]})}):null]},t.id)})),(null===a||void 0===a?void 0:a.length)?null:Object(m.jsx)(sn,{text:"No Exams Right Now"})]})})})})})),pa=function(e){var t,n=Boolean(null===e||void 0===e?void 0:e.sentAnswerChanges),a=Object(i.useState)(null),c=Object(L.a)(a,2),o=c[0],s=c[1],l=Object(i.useState)(null),r=Object(L.a)(l,2),d=r[0],u=r[1];Object(i.useEffect)((function(){var t,n;s(null===(t=e.savedStudentAnswer)||void 0===t?void 0:t.chosenOptionID),u(null===(n=e.savedStudentAnswer)||void 0===n?void 0:n.chosenAnswer)}),[]);var j=function(e){s(parseInt(e.target.id)),u(e.target.value)},h=function(t){var n;return parseInt(o)===parseInt(null===(n=e.answers[t])||void 0===n?void 0:n.id)};return Object(i.useEffect)((function(){n&&(null===e||void 0===e||e.sentAnswerChanges({chosenOptionID:o,chosenAnswer:d,questionType:Mt.MCQ},(null===e||void 0===e?void 0:e.questionIndex)-1,null===e||void 0===e?void 0:e.questionId))}),[d]),Object(m.jsx)("div",{className:"m-5 text-start ",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(Te.a,{className:"font-weight-bold",variant:"h4",component:"div",children:["Question ",e.questionIndex,Object(m.jsx)("hr",{})]}),Object(m.jsx)(Te.a,{className:"m-3",variant:"h5",children:e.questionText})]}),Object(m.jsx)(Hn.a,{className:"",children:Object(m.jsx)("form",{children:null===(t=e.answers)||void 0===t?void 0:t.map((function(e,t){return Object(m.jsxs)("div",{className:"form-check m-3",children:[Object(m.jsx)("input",{className:"form-check-input",checked:h(t),type:"radio",value:null===e||void 0===e?void 0:e.value,id:null===e||void 0===e?void 0:e.id,onChange:j,name:"flexRadioDefault"}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.value})]})}))})}),n?null:Object(m.jsxs)(oa.a,{className:"d-flex m-2 p-2 justify-content-between",children:[Object(m.jsx)("button",{className:"btn m-2 p-auto btn-danger text-white",variant:"contained",onClick:e.clickedPrevious,disabled:e.previousButtonDisabled,children:"Previous"}),Object(m.jsx)("button",{className:"btn m-2 p-auto btn-primary text-white",variant:"contained",onClick:function(){e.clickedNext(o,d,Mt.MCQ),e.studentAnswerFunction(e.questionIndex,o,d),s(null)},children:e.changeNextNameIntoFinish?"Finish Exam":"Next"})]})]})})},ga=function(e){var t,n=Boolean(null===e||void 0===e?void 0:e.sentAnswerChanges),a=Object(i.useState)(""),c=Object(L.a)(a,2),o=c[0],s=c[1];Object(i.useEffect)((function(){var t,n;s((null===(t=e.question)||void 0===t||null===(n=t.studentAnswer)||void 0===n?void 0:n.chosenAnswer)||"")}),[]);return Object(i.useEffect)((function(){n&&(null===e||void 0===e||e.sentAnswerChanges({chosenOptionID:null,chosenAnswer:o,questionType:Mt.ESSAY},(null===e||void 0===e?void 0:e.questionIndex)-1,null===e||void 0===e?void 0:e.questionId))}),[o]),Object(m.jsx)("div",{className:"m-5 text-start ",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(Te.a,{className:"font-weight-bold",variant:"h4",component:"div",children:["Question ",e.questionIndex,Object(m.jsx)("hr",{})]}),Object(m.jsx)(Te.a,{className:"m-3",variant:"h5",children:null===(t=e.question)||void 0===t?void 0:t.questionText})]}),Object(m.jsx)(Hn.a,{className:"",children:Object(m.jsx)(xe.a,{id:"outlined-multiline",label:"Your Answer",multiline:!0,rows:8,fullWidth:!0,value:o,onChange:function(e){s(e.target.value)}})}),n?null:Object(m.jsxs)(oa.a,{className:"d-flex m-2 p-2 justify-content-between",children:[Object(m.jsx)("button",{className:"btn m-2 p-auto btn-danger text-white",variant:"contained",disabled:e.previousButtonDisabled,onClick:function(){e.clickedPrevious()},children:"Previous"}),Object(m.jsx)("button",{className:"btn m-2 p-auto btn-primary text-white",variant:"contained",onClick:function(){var t,n,i=o;e.clickedNext(null,i,Mt.ESSAY);var a=(null===(t=e.question)||void 0===t||null===(n=t.studentAnswer)||void 0===n?void 0:n.chosenAnswer)||"";setTimeout((function(){s(a)}),1e3)},children:e.changeNextNameIntoFinish?"Finish Exam":"Next"})]})]})})},ya=function(e){return e.sort((function(){return Math.random()-.5}))},Na=function(){return ya},wa=function(){var e=Object(i.useState)(null),t=Object(L.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){return window.addEventListener("blur",(function(){a(!0)})),window.addEventListener("focus",(function(){a(!1)})),function(){window.removeEventListener("blur",(function(){})),window.removeEventListener("focus",(function(){}))}}),[]),n},ka=n(2102),Sa=n(2132),qa=n(2131),Ca=n(2146),Aa=n(2109),Ta=n.p+"static/media/cheat-inspector.4efbf1c5.png",Ea=function(e){var t=e.isVisible,n=e.setVisibility,i=e.cheatReasons,a=e.cheaterImage,c=function(){n(!1)};return Object(m.jsx)("div",{children:Object(m.jsxs)(ka.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(Aa.a,{color:"error",id:"alert-dialog-title",children:"CHEAT ATTEMPT !!"}),Object(m.jsxs)(qa.a,{children:[Object(m.jsxs)("div",{className:"d-flex",children:[a?Object(m.jsx)("img",{className:"w-50",alt:"cheater",src:a}):null,Object(m.jsx)("img",{className:a?"w-50":"w-100",alt:"detector",src:Ta})]}),Object(m.jsxs)(Ca.a,{id:"alert-dialog-description",children:["You're trying to cheat by ",Object(m.jsx)("b",{className:"text-uppercase",children:null===i||void 0===i?void 0:i.join(" & ")})," and we have reported that attempt to your instructor."]})]}),Object(m.jsx)(Sa.a,{children:Object(m.jsx)(Ci.a,{color:"error",onClick:c,autoFocus:!0,children:"OK"})})]})})},Ma=n(272),Ia=n.n(Ma),Fa=function(e){return e<10?"0".concat(e):e},Pa=function(e){var t=e.numberOfSecs,n=void 0===t?1:t,a=e.onFinish,c=void 0===a?function(){}:a,o=Object(i.useState)(n),s=Object(L.a)(o,2),l=s[0],r=s[1],d=Math.floor(l/3600),u=Math.floor(l/60);return Object(i.useEffect)((function(){if(n){var e=l,t=setInterval((function(){if(e<=0)return clearInterval(t),void c();r((function(e){return e-1})),e--}),1e3);return function(){clearInterval(t)}}}),[n]),Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:Ia.a.primaryText,children:"".concat(Fa(d),":").concat(Fa(u%60),":").concat(Fa(l%60))})})},Da=function(e){var t,n=Boolean(null===e||void 0===e?void 0:e.sentAnswerChanges),a=Object(i.useState)(""),c=Object(L.a)(a,2),o=c[0],s=c[1];Object(i.useEffect)((function(){var t,n;s((null===(t=e.question)||void 0===t||null===(n=t.studentAnswer)||void 0===n?void 0:n.chosenAnswer)||"")}),[]);return Object(i.useEffect)((function(){n&&(null===e||void 0===e||e.sentAnswerChanges({chosenOptionID:null,chosenAnswer:o,questionType:Mt.FORMULA},(null===e||void 0===e?void 0:e.questionIndex)-1,null===e||void 0===e?void 0:e.questionId))}),[o]),Object(m.jsx)("div",{className:"m-5 text-start ",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(Te.a,{className:"font-weight-bold",variant:"h4",component:"div",children:["Question ",e.questionIndex,Object(m.jsx)("hr",{})]}),Object(m.jsx)(Te.a,{className:"m-3",variant:"h5",children:null===(t=e.question)||void 0===t?void 0:t.questionText})]}),Object(m.jsx)(Hn.a,{className:"",children:Object(m.jsx)(xe.a,{id:"outlined-multiline",label:"Your Answer",fullWidth:!0,value:o,onChange:function(e){s(e.target.value)}})}),n?null:Object(m.jsxs)(oa.a,{className:"d-flex m-2 p-2 justify-content-between",children:[Object(m.jsx)("button",{className:"btn m-2 p-auto btn-danger text-white",variant:"contained",disabled:e.previousButtonDisabled,onClick:function(){e.clickedPrevious()},children:"Previous"}),Object(m.jsx)("button",{className:"btn m-2 p-auto btn-primary text-white",variant:"contained",onClick:function(){var t,n,i=o;e.clickedNext(null,i,Mt.FORMULA);var a=(null===(t=e.question)||void 0===t||null===(n=t.studentAnswer)||void 0===n?void 0:n.chosenAnswer)||"";setTimeout((function(){s(a)}),1e3)},children:e.changeNextNameIntoFinish?"Finish Exam":"Next"})]})]})})},Ra=function(e){var t,n,a,c=Object(i.useState)(null),o=Object(L.a)(c,2),s=o[0],l=o[1],r=function(e,t,n){s&&l((function(i){var a=Object(oe.a)(i);return a[t]={answer:e,questionId:n},a}))};Object(i.useEffect)((function(){var t,n;l(null===e||void 0===e||null===(t=e.question)||void 0===t||null===(n=t.questions)||void 0===n?void 0:n.map((function(e){return""})))}),[]);return Object(m.jsx)("div",{className:"m-5 text-start ",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsxs)(Te.a,{className:"font-weight-bold",variant:"h4",component:"div",children:["Question ",e.questionIndex,Object(m.jsx)("hr",{})]}),Object(m.jsx)(Te.a,{className:"m-3",variant:"h5",children:null===(t=e.question)||void 0===t?void 0:t.questionText})]}),null===e||void 0===e||null===(n=e.question)||void 0===n||null===(a=n.questions)||void 0===a?void 0:a.map((function(e,t){return(null===e||void 0===e?void 0:e.type)===Mt.ESSAY?Object(m.jsx)(ga,{sentAnswerChanges:r,questionIndex:t+1,question:e,questionId:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.MCQ?Object(m.jsx)(pa,{sentAnswerChanges:r,questionIndex:t+1,questionText:e.questionText,answers:e.options,questionId:null===e||void 0===e?void 0:e.id,savedStudentAnswer:null===e||void 0===e?void 0:e.studentAnswer},null===e||void 0===e?void 0:e.id):(null===e||void 0===e?void 0:e.type)===Mt.FORMULA?Object(m.jsx)(Da,{sentAnswerChanges:r,questionIndex:t+1,question:e,questionId:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.id):void 0})),Object(m.jsxs)(oa.a,{className:"d-flex m-2 p-2 justify-content-between",children:[Object(m.jsx)("button",{className:"btn m-2 p-auto btn-danger text-white",variant:"contained",disabled:e.previousButtonDisabled,onClick:function(){e.clickedPrevious()},children:"Previous"}),Object(m.jsx)("button",{className:"btn m-2 p-auto btn-primary text-white",variant:"contained",onClick:function(){e.clickedNext(null,s,Mt.GROUP)},children:e.changeNextNameIntoFinish?"Finish Exam":"Next"})]})]})})},Ba=Object(_.withRouter)((function(e){var t,n,a=Object(x.useParams)(),c=(null===(t=e.location.state)||void 0===t?void 0:t.exam)||{id:a.examId,name:"Continoue The Exam"},o=Object(i.useState)(null),s=Object(L.a)(o,2),l=s[0],r=s[1],d=Object(i.useState)(0),u=Object(L.a)(d,2),j=u[0],h=u[1],b=Na(),v=Object(i.useState)(null),f=Object(L.a)(v,2),O=(f[0],f[1]),p=Object(i.useState)(null),g=Object(L.a)(p,2),y=g[0],w=g[1],k=Object(i.useState)(null),S=Object(L.a)(k,2),q=S[0],C=S[1];Object(i.useEffect)((function(){Ge.getExamConfig(c.id).then((function(e){w(e.configuration)})).catch((function(e){return he(e)}))}),[]),Object(i.useEffect)((function(){Ge.getExamInfo(c.id).then((function(e){O(e.exam)})).catch((function(e){return he(e)}))}),[]),Object(i.useEffect)((function(){var e;y&&Ge.getExamQuestions(c.id).then((function(t){return e=t.questions,Ge.getStudentExamAnswers(c.id)})).then((function(t){var n;C(null===t||void 0===t?void 0:t.endTime);var i={};null===t||void 0===t||t.answers.forEach((function(e){i[e.question_id]={chosenOptionID:e.option_id,chosenAnswer:e.studentAnswer}}));var a=e.map((function(e){if((null===e||void 0===e?void 0:e.type)===Mt.GROUP){var t,n=[];return null===e||void 0===e||null===(t=e.questions)||void 0===t||t.forEach((function(e){var t,a=null===i||void 0===i?void 0:i[e.id];t=a?Object(N.a)(Object(N.a)({},e),{},{studentAnswer:a}):e,n.push(t)})),Object(N.a)(Object(N.a)({},e),{},{questions:n})}var a=null===i||void 0===i?void 0:i[e.id];return a?Object(N.a)(Object(N.a)({},e),{},{studentAnswer:a}):e}));a=null===(n=a)||void 0===n?void 0:n.map((function(e){return(null===e||void 0===e?void 0:e.type)===Mt.MCQ?Object(N.a)(Object(N.a)({},e),{},{answers:(t=null===e||void 0===e?void 0:e.options,b(t))}):e;var t})),(null===y||void 0===y?void 0:y.questionsRandomOrder)&&(a=function(e){return b(e)}(a)),r(Object(oe.a)(a))})).catch((function(e){he(e)}))}),[c.id,y]);var A=Number(Ze()(q).diff(Ze()(),"seconds")),T=Math.ceil(A/60),E=Object(i.useState)(0),M=Object(L.a)(E,2),I=M[0],F=M[1],P=Object(i.useState)(1),D=Object(L.a)(P,2),R=(D[0],D[1]);Object(i.useEffect)((function(){if(console.log("hiii",I,T),T&&!(I>=T)){return console.log("RANDOM MIN AFTER FACE CHECKING",1),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n=setTimeout((function(){F((function(t){return t+e})),R(e),t()}),60*e*1e3)}(1,(function(){(null===y||void 0===y?void 0:y.faceDetection)&&ee(),(null===y||void 0===y?void 0:y.faceRecognition)&&te()})),function(){clearTimeout(n)}}}),[I,T]);var B=Object(i.useState)([]),W=Object(L.a)(B,2),Q=W[0],H=W[1],z=Object(i.useState)(null),U=Object(L.a)(z,2),V=U[0],_=U[1],G=Object(i.useState)(null),Z=Object(L.a)(G,2),$=Z[0],K=Z[1],X=wa();Object(i.useEffect)((function(){X&&(null===y||void 0===y?void 0:y.disableSwitchBrowser)&&Ri.sentSwitchBrowserCheatAttempt(c.id).then((function(e){K(!0),H((function(e){return Array.from(new Set([].concat(Object(oe.a)(e),["Switching the browser"])))}))})).catch((function(e){return console.log(e)}))}),[X]);var ee=function(){var e=Object(J.a)(Y.a.mark((function e(){var t,n,i,a,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===de||void 0===de||null===(t=de.current)||void 0===t?void 0:t.getScreenshot(),i={image:n,examId:c.id},e.prev=2,e.next=5,Ge.applyFaceDetection(i);case 5:if(a=e.sent,1!==Number(a.numberOfFaces)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Ri.sentFaceDetectionCheatAttempt(c.id,null===a||void 0===a?void 0:a.image);case 10:o=e.sent,_(n),K(!0),H((function(e){return Array.from(new Set([].concat(Object(oe.a)(e),[(null===o||void 0===o?void 0:o.numberOfFaces)?"Multi face detection":"Cannot detect any face"])))})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(J.a)(Y.a.mark((function e(){var t,n,i,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===de||void 0===de||null===(t=de.current)||void 0===t?void 0:t.getScreenshot(),i={image1:n,examId:c.id},e.prev=2,e.next=5,Ge.applyFaceVerification(i);case 5:if(!(a=e.sent).verified){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Ri.sentFaceRecognationCheatAttempt(c.id,null===a||void 0===a?void 0:a.image);case 10:_(n),K(!0),H((function(e){return Array.from(new Set([].concat(Object(oe.a)(e),["Face unvalidity"])))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var t=j+1;t!==l.length?(be("Answer Saved Successfully"),h(t)):Ge.submitExam(c.id).then((function(t){be("Exam has been submitted successfully"),e.history.push({pathname:"/done",state:{examName:c.name}})})).catch((function(e){return he(e)}))},ie=function(e,t){var n=Object(oe.a)(l),i=n[j];if(Array.isArray(t)){var a,c=[];null===(a=i)||void 0===a||a.questions.forEach((function(e){var n,i=t.find((function(t){return t.questionId===e.id}));n=i?Object(N.a)(Object(N.a)({},e),{},{studentAnswer:i.answer}):e,c.push(n)})),n[j].questions=c}else i=Object(N.a)(Object(N.a)({},i),{},{studentAnswer:{chosenOptionID:e,chosenAnswer:t}}),n[j]=Object(N.a)({},i);r(n)},ae=function(e,t,n){if(t){var i={};if(n===Mt.MCQ)i={option_id:e,studentAnswer:t,question_id:l[j].id,exam_id:c.id};else if(n===Mt.ESSAY)i={studentAnswer:t,question_id:l[j].id,exam_id:c.id};else if(n===Mt.FORMULA)i={studentAnswer:t,question_id:l[j].id,exam_id:c.id};else if(n==Mt.GROUP){var a=null===t||void 0===t?void 0:t.map((function(e){var t,n,i,a;if(null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.chosenAnswer){var o={studentAnswer:null===e||void 0===e||null===(n=e.answer)||void 0===n?void 0:n.chosenAnswer,question_id:null===e||void 0===e?void 0:e.questionId,exam_id:c.id};return(null===e||void 0===e||null===(i=e.answer)||void 0===i?void 0:i.chosenOptionID)&&(o.option_id=null===e||void 0===e||null===(a=e.answer)||void 0===a?void 0:a.chosenOptionID),Ge.addAnswer(o)}}));return a=a.filter((function(e){return Boolean(e)})),void Promise.all(a).then((function(e){ie(null,t),ne()})).catch((function(e){return he(e)}))}Ge.addAnswer(i).then((function(){ie(e,t),ne()})).catch((function(e){return he(e)}))}else ne()},ce=function(){h(j-1)},se=function(e,t,n){r((function(i){var a=Object(oe.a)(i);return a[e-1]=Object(N.a)(Object(N.a)({},a[e-1]),{},{studentAnswer:{chosenOptionID:t,chosenAnswer:n}}),a}))},le=null===l||void 0===l?void 0:l.map((function(t,n){return(null===t||void 0===t?void 0:t.type)===Mt.ESSAY?Object(m.jsx)(ga,{questionIndex:n+1,question:t,clickedNext:ae,clickedPrevious:ce,previousButtonDisabled:0===j,changeNextNameIntoFinish:n===l.length-1},e.questionIndex):(null===t||void 0===t?void 0:t.type)===Mt.MCQ?Object(m.jsx)(pa,{questionIndex:n+1,currentQuestionNumber:j,questionText:t.questionText,answers:t.answers,clickedNext:ae,clickedPrevious:ce,previousButtonDisabled:0===j,changeNextNameIntoFinish:n===l.length-1,studentAnswerFunction:se,savedStudentAnswer:null===t||void 0===t?void 0:t.studentAnswer},null===t||void 0===t?void 0:t.id):(null===t||void 0===t?void 0:t.type)===Mt.FORMULA?Object(m.jsx)(Da,{questionIndex:n+1,question:t,clickedNext:ae,clickedPrevious:ce,previousButtonDisabled:0===j,changeNextNameIntoFinish:n===l.length-1},null===t||void 0===t?void 0:t.id):(null===t||void 0===t?void 0:t.type)===Mt.GROUP?Object(m.jsx)(Ra,{questionIndex:n+1,question:t,clickedNext:ae,clickedPrevious:ce,previousButtonDisabled:0===j,changeNextNameIntoFinish:n===l.length-1},null===t||void 0===t?void 0:t.id):null})),re=(null===y||void 0===y?void 0:y.faceDetection)||(null===y||void 0===y?void 0:y.faceRecognition),de=Object(i.useRef)(null);return Object(m.jsxs)("div",{children:[A?Object(m.jsx)("div",{className:"bg-light p-2 rounded shadow",style:{position:"fixed",top:0,left:"50%",zIndex:10,transform:"translateX(-50%)"},children:Object(m.jsx)(Pa,{onFinish:function(){Ge.submitExam(c.id).then((function(t){be("Exam has been submitted successfully"),e.history.push({pathname:"/done",state:{examName:c.name}})})).catch((function(e){return he(e)}))},numberOfSecs:A})}):null,Object(m.jsx)("div",{className:"d-flex justify-content-center",children:re?Object(m.jsx)(ra.a,{audio:!1,height:360,ref:de,screenshotFormat:"image/jpeg"}):null}),Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:c.name,children:null===le||void 0===le?void 0:le[j]})})}),Object(m.jsx)(Ea,{isVisible:$,setVisibility:function(e){K(e),H([]),_(null)},cheatReasons:Q,cheaterImage:V})]})})),Wa=[{path:"/exams",component:Oa,exact:!0},{path:"/exams/:examId",component:ua,exact:!0},{path:"/exams/:examId/start",component:Ba,exact:!0},{path:"/done",component:function(e){var t=e.location.state.examName;return Object(m.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(m.jsx)("div",{className:"col-md-8 col-12",children:Object(m.jsx)(Ne,{title:t,children:Object(m.jsx)("div",{className:"m-5 text-start text-center",children:Object(m.jsxs)(Wn.a,{className:"shadow p-3 mb-5 bg-white rounded ",sx:{minWidth:275},children:[Object(m.jsxs)(Hn.a,{children:[Object(m.jsx)(Te.a,{className:"font-weight-bold ",variant:"h3",component:"div",children:"Well Done"}),Object(m.jsx)(Te.a,{className:"m-3 text-success",variant:"h4",children:"We hope you done well in this exam and best wishes for next....!"})]}),Object(m.jsx)("button",{className:"btn m-2 p-auto btn-primary text-white",onClick:function(){e.history.push("/")},children:"Homepage"})]})})})})})},exact:!0},{path:"/my-results",component:ba,exact:!0},{path:"/my-results/:examId",component:fa,exact:!0}],Qa=(n(2041),{register:{url:"".concat($,"/instructors/register"),method:"POST"},getMyProfile:{url:"".concat($,"/instructors/me"),method:"GET"}}),Ha=function(){function e(){Object(fe.a)(this,e)}return Object(Oe.a)(e,null,[{key:"register",value:function(e){return ge.fetch(Qa.register.url,{body:JSON.stringify(e),method:Qa.register.method})}},{key:"getMyProfile",value:function(){return ge.fetch(Qa.getMyProfile.url,{method:Qa.getMyProfile.method},!0)}}]),e}(),za=function(){var e,t,n,a,c,o,s,l=Object(i.useState)(null),r=Object(L.a)(l,2),d=r[0],u=r[1];Object(i.useEffect)((function(){Ha.getMyProfile().then((function(e){u(e.instructor)})).catch((function(e){return he(e)}))}),[]);var j=Mi();return d&&Object(m.jsx)("div",{className:"Profile_I mt-5",style:{minHeight:"100vh"},children:Object(m.jsx)("div",{className:"container d-flex justify-content-center",children:Object(m.jsxs)("div",{className:"d-flex flex-column align-items-center ProfileCard w-100 p-3",children:[Object(m.jsx)("img",{style:{objectFit:"contain"},src:j(null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.image),alt:"User"}),Object(m.jsxs)("div",{className:"d-flex flex-column flex-md-row align-items-center mt-2",children:[Object(m.jsx)("h2",{children:"".concat(null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.firstName," ").concat(null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.lastName)}),Object(m.jsx)("div",{className:"mx-2",children:Object(m.jsx)("span",{className:"badge badge-secondary",children:null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.type})})]}),Object(m.jsxs)("div",{style:{marginTop:95,width:"100%"},className:"px-lg-5",children:[Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Email: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2",children:null===d||void 0===d||null===(c=d.user)||void 0===c?void 0:c.email})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Phone: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2 text-capitalize",children:null===d||void 0===d||null===(o=d.user)||void 0===o?void 0:o.phone})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Degree: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2",children:null===d||void 0===d?void 0:d.degree})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Gender: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2 text-capitalize",children:null===d||void 0===d||null===(s=d.user)||void 0===s?void 0:s.gender})]})]})]})})})},Ua=(n(2042),[{path:"/home",component:aa,exact:!0},{path:"/profile/student",component:function(){var e,t,n,a,c,o,s,l=Object(i.useState)(null),r=Object(L.a)(l,2),d=r[0],u=r[1];Object(i.useEffect)((function(){xa.getMyProfile().then((function(e){u(e.student)})).catch((function(e){return he(e)}))}),[]);var j=Mi();return d&&Object(m.jsx)("div",{className:"Profile_S mt-5",style:{minHeight:"100vh"},children:Object(m.jsx)("div",{className:"container d-flex justify-content-center",children:Object(m.jsxs)("div",{className:"d-flex flex-column align-items-center ProfileCard w-100 p-3",children:[Object(m.jsx)("img",{style:{objectFit:"contain"},src:j(null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.image),alt:"User"}),Object(m.jsxs)("div",{className:"d-flex flex-column flex-md-row mt-2",children:[Object(m.jsx)("h2",{children:"".concat(null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.firstName," ").concat(null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.lastName)}),Object(m.jsx)("div",{className:"mx-2",children:Object(m.jsx)("span",{className:"badge badge-secondary text-capitalize",children:null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.type})})]}),Object(m.jsxs)("div",{style:{marginTop:95,width:"100%"},className:"px-lg-5",children:[Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Email: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2",children:null===d||void 0===d||null===(c=d.user)||void 0===c?void 0:c.email})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Phone: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2 text-capitalize",children:null===d||void 0===d||null===(o=d.user)||void 0===o?void 0:o.phone})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Code: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2",children:null===d||void 0===d?void 0:d.studentCode})]}),Object(m.jsxs)("div",{className:"d-flex flex-lg-row justify-content-lg-start align-items-center flex-column align-items-center w-100 my-3",children:[Object(m.jsx)("span",{className:"pr-2",children:"Gender: "}),Object(m.jsx)("h4",{className:"infoText m-0 px-2 text-capitalize",children:null===d||void 0===d||null===(s=d.user)||void 0===s?void 0:s.gender})]})]})]})})})},exact:!0},{path:"/profile/instructor",component:za,exact:!0}]),Va=function(){var e=Object(s.d)((function(e){return e.auth.userType}))||localStorage.getItem("userType");return Object(m.jsxs)(x.Switch,{children:[ca.map((function(e,t){return Object(m.jsx)(x.Route,Object(N.a)({},e),t)})),_e.map((function(e,t){return Object(m.jsx)(x.Route,Object(N.a)({},e),t)})),e&&Ua.map((function(e,t){return Object(m.jsx)(x.Route,Object(N.a)({},e),t)})),"instructor"===e&&Xi.map((function(e,t){return Object(m.jsx)(x.Route,Object(N.a)({},e),t)})),"student"===e&&Wa.map((function(e,t){return Object(m.jsx)(x.Route,Object(N.a)({},e),t)})),Object(m.jsx)(_.Redirect,{to:"/login"})]})},_a=function(){var e=Object(s.d)((function(e){return e.app.alertObject})),t=Object(s.c)(),n=function(){t(W())};return Object(m.jsxs)(ka.a,{open:Boolean(null===e||void 0===e?void 0:e.header),onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(Aa.a,{id:"alert-dialog-title",children:null===e||void 0===e?void 0:e.header}),Object(m.jsx)(qa.a,{children:Object(m.jsx)(Ca.a,{id:"alert-dialog-description",children:null===e||void 0===e?void 0:e.details})}),Object(m.jsxs)(Sa.a,{children:[Object(m.jsx)(Ci.a,{onClick:n,autoFocus:!0,children:"Cancel"}),Object(m.jsx)(Ci.a,{color:"error",onClick:function(){null===e||void 0===e||e.alertFunction()},children:"Yes"})]})]})};var La=function(){var e=Object(s.c)(),t=Object(i.useCallback)((function(){var t=localStorage.getItem("token"),n=localStorage.getItem("userType");t&&n&&(e(p(t)),e(g(n)))}),[e]);return Object(i.useEffect)((function(){t()}),[t]),Object(m.jsxs)(l.a,{children:[Object(m.jsx)(y,{}),Object(m.jsx)("div",{style:{minHeight:"100vh"},children:Object(m.jsx)(Va,{})}),Object(m.jsx)(V,{}),Object(m.jsx)(_a,{}),Object(m.jsx)(v,{})]})},Ga=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2159)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))},Ya=(n(2043),n(2120)),Ja=Object(ea.a)({palette:{primary:{main:"#2F4F4F"},secondary:{main:"#50303A"}}}),Za=n(2110),$a=n(2101);o.a.render(Object(m.jsx)(s.a,{store:me,children:Object(m.jsx)(Ya.a,{theme:Ja,children:Object(m.jsx)($a.b,{dateAdapter:Za.a,children:Object(m.jsx)(La,{})})})}),document.getElementById("root")),Ga()},243:function(e,t){},272:function(e,t,n){e.exports={primaryText:"ExamCounter_primaryText__1cTjU"}},312:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},321:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){}},[[2044,1,2]]]);
//# sourceMappingURL=main.0b214df5.chunk.js.map